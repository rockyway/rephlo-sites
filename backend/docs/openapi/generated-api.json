{
  "info": {
    "title": "Rephlo Backend API (Generated)",
    "version": "3.0.0",
    "description": "Complete REST API documentation for the Rephlo Backend system. This specification is auto-generated from TypeScript type definitions."
  },
  "openapi": "3.0.3",
  "paths": {
    "/auth/reset-password": {
      "post": {
        "operationId": "AuthPasswordResetApiSpec_post_/auth/reset-password",
        "tags": [
          "Authentication"
        ],
        "summary": "Reset user password with token",
        "description": "Reset user password using token from password reset email.\n\n**Flow:**\n1. User receives reset token via email (from /auth/forgot-password)\n2. User submits token, email, and new password\n3. System validates token format and finds user by email\n4. System checks token expiration (1 hour from request)\n5. System verifies token matches stored hash\n6. Password is hashed (bcrypt with 12 rounds)\n7. Password updated and reset token cleared\n8. lastPasswordChange timestamp updated\n9. All active sessions are invalidated (user must log in again)\n\n**Token Behavior:**\n- Valid for 1 hour after password reset request\n- Single-use (cleared after successful reset)\n- Hashed in database (SHA-256)\n- 64-character hexadecimal format\n- Cryptographically secure random token\n\n**Password Requirements:**\n- Minimum 8 characters, maximum 100 characters\n- At least 1 uppercase letter (A-Z)\n- At least 1 lowercase letter (a-z)\n- At least 1 number (0-9)\n- At least 1 special character (!@#$%^&*)\n\n**Rate Limit**: 3 requests per hour per IP address\n\n**Security:**\n- Passwords hashed with bcrypt (12 rounds)\n- All sessions invalidated after password change\n- Rate limiting prevents brute force\n- Token single-use prevents replay attacks\n- 1-hour token expiration limits exposure",
        "parameters": [],
        "requestBody": {
          "description": "Reset Password Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Reset Password Request Body",
                "type": "object",
                "properties": {
                  "token": {
                    "description": "Reset token from email (64-character hexadecimal string)\nSent via password reset email, valid for 1 hour",
                    "type": "string"
                  },
                  "email": {
                    "description": "Email address (max 255 characters)\nMust match account being reset",
                    "type": "string"
                  },
                  "newPassword": {
                    "description": "New password (minimum 8 characters, maximum 100 characters)\nMust include:\n- At least 1 uppercase letter\n- At least 1 lowercase letter\n- At least 1 number\n- At least 1 special character (!@#$%^&*)",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "email",
                  "newPassword",
                  "token"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reset Password Response\nPassword reset successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResetPasswordResponse",
                  "description": "Password reset successfully"
                }
              }
            }
          },
          "400": {
            "description": "Reset Password Error Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResetPasswordError",
                  "description": "Invalid token, token expired, weak password, validation error, or user not found"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded (3 per hour per IP)"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "operationId": "AuthPublicApiSpec_post_/auth/register",
        "tags": [
          "Authentication"
        ],
        "summary": "Register new user account",
        "description": "Create a new user account with email verification.\n\n**Flow:**\n1. User submits registration form with email, password, username, and name\n2. System validates input and checks for duplicates\n3. Password is hashed (bcrypt with 12 rounds)\n4. User record created with unverified email\n5. Verification email sent with 24-hour token\n6. User must verify email before login\n\n**Password Requirements:**\n- Minimum 8 characters, maximum 100 characters\n- At least 1 uppercase letter (A-Z)\n- At least 1 lowercase letter (a-z)\n- At least 1 number (0-9)\n- At least 1 special character (!@#$%^&*)\n\n**Username Requirements:**\n- 3-30 characters\n- Letters, numbers, and underscores only\n- Must be unique\n\n**Rate Limit**: 5 requests per hour per IP address\n\n**Security:**\n- Passwords hashed with bcrypt (12 rounds)\n- Email verification required before login\n- Rate limiting prevents abuse",
        "parameters": [],
        "requestBody": {
          "description": "Registration Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Registration Request Body",
                "type": "object",
                "properties": {
                  "email": {
                    "description": "Email address (must be unique, max 255 characters)",
                    "type": "string"
                  },
                  "password": {
                    "description": "Password (minimum 8 characters, maximum 100 characters)\nMust include:\n- At least 1 uppercase letter\n- At least 1 lowercase letter\n- At least 1 number\n- At least 1 special character (!@#$%^&*)",
                    "type": "string"
                  },
                  "username": {
                    "description": "Username (3-30 characters)\nCan only contain letters, numbers, and underscores\nMust be unique",
                    "type": "string"
                  },
                  "firstName": {
                    "description": "First name (1-100 characters)\nCan only contain letters, spaces, hyphens, and apostrophes",
                    "type": "string"
                  },
                  "lastName": {
                    "description": "Last name (1-100 characters)\nCan only contain letters, spaces, hyphens, and apostrophes",
                    "type": "string"
                  },
                  "acceptedTerms": {
                    "description": "Must be true to accept terms and conditions",
                    "type": "boolean"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "acceptedTerms",
                  "email",
                  "firstName",
                  "lastName",
                  "password",
                  "username"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Registration Response\nUser account created successfully, email verification required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterResponse",
                  "description": "Registration successful, verification email sent"
                }
              }
            }
          },
          "400": {
            "description": "Registration Validation Error Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterValidationError",
                  "description": "Validation error, email/username exists, or weak password"
                }
              }
            }
          },
          "409": {
            "description": "Registration Validation Error Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterValidationError",
                  "description": "Email or username already exists"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded (5 per hour per IP)"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/verify-email": {
      "post": {
        "operationId": "AuthPublicApiSpec_post_/auth/verify-email",
        "tags": [
          "Authentication"
        ],
        "summary": "Verify user email with token",
        "description": "Verify user email address using token from registration email.\n\n**Flow:**\n1. User clicks verification link in email (contains token and email)\n2. System validates token format and finds user\n3. System checks if email already verified\n4. System verifies token matches and not expired\n5. Email marked as verified, tokens cleared\n6. User can now log in\n\n**Token Behavior:**\n- Valid for 24 hours after registration\n- Single-use (cleared after verification)\n- Hashed in database (SHA-256)\n- Cryptographically secure random token\n\n**Rate Limit**: 10 requests per hour per IP address\n\n**Security:**\n- Tokens hashed in database\n- 24-hour expiration\n- Already-verified accounts rejected\n- Rate limiting prevents brute force",
        "parameters": [],
        "requestBody": {
          "description": "Email Verification Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Email Verification Request Body",
                "type": "object",
                "properties": {
                  "token": {
                    "description": "Email verification token (sent via email, max 255 characters)",
                    "type": "string"
                  },
                  "email": {
                    "description": "Email address (max 255 characters)",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "email",
                  "token"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email Verification Response\nEmail verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyEmailResponse",
                  "description": "Email verified successfully"
                }
              }
            }
          },
          "400": {
            "description": "Email Verification Error Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyEmailError",
                  "description": "Invalid token, already verified, token expired, or no token found"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded (10 per hour per IP)"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/forgot-password": {
      "post": {
        "operationId": "AuthPublicApiSpec_post_/auth/forgot-password",
        "tags": [
          "Authentication"
        ],
        "summary": "Request password reset token",
        "description": "Request a password reset token sent via email.\n\n**Flow:**\n1. User submits email address\n2. System looks up user by email\n3. If user exists, generates reset token and sends email\n4. If user doesn't exist, returns same success message (prevents email enumeration)\n5. Reset token valid for 1 hour\n\n**Token Behavior:**\n- Valid for 1 hour\n- Single-use (cleared after password reset)\n- Hashed in database (SHA-256)\n- Cryptographically secure random token\n\n**Rate Limit**: 3 requests per hour per IP address\n\n**Security Best Practice:**\nAlways returns same success message regardless of whether email exists.\nThis prevents attackers from enumerating valid email addresses.\n\n**Security:**\n- Email enumeration prevention (same response for all emails)\n- 1-hour token expiration\n- Tokens hashed in database\n- Reset count tracking for security monitoring\n- Rate limiting prevents abuse",
        "parameters": [],
        "requestBody": {
          "description": "Forgot Password Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Forgot Password Request Body",
                "type": "object",
                "properties": {
                  "email": {
                    "description": "Email address (max 255 characters)",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "email"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Forgot Password Response\nGeneric success message (prevents email enumeration)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForgotPasswordResponse",
                  "description": "Generic success response (email sent if account exists)"
                }
              }
            }
          },
          "400": {
            "description": "Forgot Password Validation Error Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForgotPasswordError",
                  "description": "Validation error (invalid email format)"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded (3 per hour per IP)"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/api/track-download": {
      "post": {
        "operationId": "BrandingApiSpec_post_/api/track-download",
        "tags": [
          "Branding"
        ],
        "summary": "Track download event",
        "description": "Track download events with OS, user agent, and hashed IP.\n\n**Flow:**\n1. User clicks download button on website\n2. Frontend submits OS selection (windows, macos, linux)\n3. Backend logs download event with metadata:\n   - OS type\n   - User agent (for analytics)\n   - Hashed IP address (privacy-preserving)\n   - Timestamp\n4. Returns download URL and tracking ID\n\n**Use Case:**\n- Track download analytics by OS\n- Generate download statistics\n- Provide OS-specific download links\n\n**Rate Limit**: 100 requests per minute per IP\n\n**No Authentication Required** - Public endpoint for website visitors",
        "parameters": [],
        "requestBody": {
          "description": "Track Download Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Track Download Request Body",
                "type": "object",
                "properties": {
                  "os": {
                    "description": "Operating system\nMust be one of: windows, macos, linux",
                    "enum": [
                      "linux",
                      "macos",
                      "windows"
                    ],
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "os"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Track Download Success Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackDownloadResponse",
                  "description": "Download tracked successfully"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Invalid OS value or missing required field"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded (100 per minute per IP)"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/api/feedback": {
      "post": {
        "operationId": "BrandingApiSpec_post_/api/feedback",
        "tags": [
          "Branding"
        ],
        "summary": "Submit user feedback",
        "description": "Submit user feedback to the system.\n\n**Flow:**\n1. User fills out feedback form (message required, email optional)\n2. Frontend submits feedback with optional email and userId\n3. Backend validates message length (1-1000 characters)\n4. Feedback stored in database with timestamp\n5. Optional: Send confirmation email if email provided\n\n**Use Case:**\n- Collect product feedback\n- Bug reports\n- Feature requests\n- User complaints or compliments\n\n**Message Requirements:**\n- Minimum 1 character\n- Maximum 1000 characters\n- Plain text (no HTML)\n\n**Rate Limit**: 100 requests per minute per IP\n\n**No Authentication Required** - Public endpoint for all users",
        "parameters": [],
        "requestBody": {
          "description": "Submit Feedback Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Submit Feedback Request Body",
                "type": "object",
                "properties": {
                  "message": {
                    "description": "Feedback message (1-1000 characters)\nRequired field",
                    "type": "string"
                  },
                  "email": {
                    "description": "Optional email for follow-up\nMust be valid email format",
                    "type": "string"
                  },
                  "userId": {
                    "description": "Optional user ID\nFor authenticated users",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "message"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Submit Feedback Success Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmitFeedbackResponse",
                  "description": "Feedback submitted successfully"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Invalid message length or email format"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded (100 per minute per IP)"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/api/version": {
      "get": {
        "operationId": "BrandingApiSpec_get_/api/version",
        "tags": [
          "Branding"
        ],
        "summary": "Get latest app version",
        "description": "Get latest app version metadata including download URL and changelog.\n\n**Flow:**\n1. Client requests latest version information\n2. Backend returns current release metadata\n3. Client compares with local version\n4. Client prompts user to update if newer version available\n\n**Use Case:**\n- Auto-update check in desktop app\n- Version comparison\n- Display changelog to users\n- Download latest release\n\n**Response Includes:**\n- Semantic version (e.g., \"1.2.0\")\n- Release date (ISO 8601)\n- Download URL\n- Changelog/release notes\n\n**Caching Recommendation:**\nCache this response for 1 hour on client side.\nCheck once per app launch or every hour.\n\n**Rate Limit**: 100 requests per minute per IP\n\n**No Authentication Required** - Public endpoint for update checks",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Get Version Success Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetVersionResponse",
                  "description": "Version information retrieved successfully"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "No version found (should never happen in production)"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded (100 per minute per IP)"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/api/diagnostics": {
      "post": {
        "operationId": "BrandingApiSpec_post_/api/diagnostics",
        "tags": [
          "Branding"
        ],
        "summary": "Upload diagnostic file",
        "description": "Upload diagnostic files for troubleshooting.\n\n**Flow:**\n1. User generates diagnostic file in desktop app\n2. User submits file via support form or app\n3. Backend validates file type and size\n4. File stored securely with unique ID\n5. Support team can access file for troubleshooting\n\n**File Requirements:**\n- Max file size: 5MB\n- Allowed types: .json, .log, .txt, .zip\n- Multipart form-data encoding\n- Optional userId field for user identification\n\n**Use Case:**\n- Troubleshoot user-reported issues\n- Collect crash logs\n- Debug environment-specific problems\n- Support ticket attachments\n\n**Security:**\n- Files scanned for malware (recommended)\n- Stored with secure random filename\n- Access restricted to support/admin users\n\n**Rate Limit**: 100 requests per minute per IP\n\n**No Authentication Required** - Public endpoint for support submissions\n(Note: In production, consider adding authentication or admin-only access)",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Upload Diagnostic Success Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadDiagnosticResponse",
                  "description": "Diagnostic file uploaded successfully"
                }
              }
            }
          },
          "400": {
            "description": "Diagnostic Upload Error Response\nSpecific error for invalid file type or size",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiagnosticUploadError",
                  "description": "Invalid file type, file too large, or missing file"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded (100 per minute per IP)"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "operationId": "HealthApiSpec_get_/",
        "tags": [
          "Health"
        ],
        "summary": "API overview",
        "description": "Get API information and available endpoints.\n\n**Use Case:**\n- Discover available API endpoints\n- Get API version and documentation links\n- Verify API is reachable\n\n**Response Includes:**\n- API name and version\n- Documentation URL\n- Health check endpoint\n- Endpoint groups\n\n**No Authentication Required** - Public endpoint for API discovery",
        "parameters": [],
        "responses": {
          "200": {
            "description": "API Overview Response\nGeneral API information and available endpoints",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiOverviewResponse",
                  "description": "API overview with endpoint information"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "operationId": "HealthApiSpec_get_/health",
        "tags": [
          "Health"
        ],
        "summary": "Basic health check",
        "description": "Returns comprehensive server status and diagnostics.\n\n**Use Case:**\n- Monitor server health status\n- Check service availability\n- View memory usage and uptime\n- Verify database and Redis connectivity\n\n**Response Includes:**\n- Overall health status\n- Server uptime and timestamp\n- Environment name\n- Service status (database, Redis, DI container)\n- Memory usage metrics\n\n**Recommended Check Interval**: Every 30 seconds\n\n**No Authentication Required** - Public endpoint for monitoring systems",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Health Check Response\nComprehensive server health status with diagnostics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse",
                  "description": "Comprehensive health status with diagnostics"
                }
              }
            }
          }
        }
      }
    },
    "/health/ready": {
      "get": {
        "operationId": "HealthApiSpec_get_/health/ready",
        "tags": [
          "Health"
        ],
        "summary": "Readiness check",
        "description": "Checks database connectivity and critical dependencies.\n\n**Use Case:**\n- Kubernetes/Docker readiness probe\n- Load balancer health check\n- Verify service can accept traffic\n- Pre-deployment validation\n\n**Check Logic:**\n- Database connection active\n- Redis connection available (if required)\n- All critical dependencies initialized\n\n**Returns 200** when service is ready to accept traffic\n**Returns 503** when service is starting up or dependencies unavailable\n\n**Recommended Check Interval**: Every 5 seconds\n\n**No Authentication Required** - Public endpoint for orchestration systems",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Readiness Check Response (Ready State)\nIndicates service is ready to accept traffic",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadinessReadyResponse",
                  "description": "Service is ready to accept traffic"
                }
              }
            }
          },
          "503": {
            "description": "Readiness Check Response (Not Ready State)\nIndicates service is not ready (dependencies unavailable)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadinessNotReadyResponse",
                  "description": "Service is not ready (dependencies unavailable)"
                }
              }
            }
          }
        }
      }
    },
    "/health/live": {
      "get": {
        "operationId": "HealthApiSpec_get_/health/live",
        "tags": [
          "Health"
        ],
        "summary": "Liveness check",
        "description": "Simple check to verify the server is running.\n\n**Use Case:**\n- Kubernetes/Docker liveness probe\n- Detect server crashes or hangs\n- Trigger container restart if unresponsive\n\n**Check Logic:**\n- Server process is alive\n- Event loop is responsive\n- No deep dependency checks (fast response)\n\n**Always returns 200** unless server is completely unresponsive\n\n**Recommended Check Interval**: Every 10 seconds\n\n**No Authentication Required** - Public endpoint for orchestration systems",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Liveness Check Response\nSimple check to verify server is alive and responding",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LivenessResponse",
                  "description": "Server is alive and responding"
                }
              }
            }
          }
        }
      }
    },
    "/oauth/google/authorize": {
      "get": {
        "operationId": "OAuthGoogleApiSpec_get_/oauth/google/authorize",
        "tags": [
          "Authentication"
        ],
        "summary": "Initiate Google OAuth flow",
        "description": "Redirects user to Google OAuth consent screen.\n\n**Flow:**\n1. User clicks \"Sign in with Google\" button\n2. System generates random state parameter for CSRF protection\n3. System builds Google OAuth authorization URL with:\n   - Client ID (from environment)\n   - Redirect URI (callback URL)\n   - Requested scopes (userinfo.profile, userinfo.email)\n   - State parameter (CSRF protection)\n   - Access type: offline (for refresh tokens)\n   - Prompt: consent (force consent screen to ensure refresh token)\n4. System redirects user to Google's consent screen\n5. User authorizes application\n6. Google redirects to /oauth/google/callback with authorization code\n\n**Scopes Requested:**\n- userinfo.profile - User's profile information (name, picture)\n- userinfo.email - User's email address\n\n**Query Parameters:**\n- redirect_uri: Optional custom redirect URI (defaults to configured callback URL)\n- state: Optional CSRF token (auto-generated if not provided)\n\n**Response**: HTTP 302 redirect to Google OAuth URL\n\n**Error Handling**:\n- If Google OAuth not configured (missing credentials), redirects to /login?error=google_oauth_not_configured\n\n**Rate Limit**: 10 requests per minute per IP address\n\n**Security:**\n- CSRF protection via state parameter (verified in callback)\n- Offline access for refresh tokens\n- Force consent screen to ensure refresh token generation\n- State parameter stored in session for verification",
        "parameters": [
          {
            "description": "Redirect URI after authorization (optional, defaults to configured URI)",
            "name": "redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "OAuth state parameter for CSRF protection (auto-generated if not provided)",
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect Response (HTTP 302)\nEmpty body - response is an HTTP redirect",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RedirectResponse",
                  "description": "Redirect to Google OAuth consent screen"
                }
              }
            }
          },
          "500": {
            "description": "Redirect Response (HTTP 302)\nEmpty body - response is an HTTP redirect",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RedirectResponse",
                  "description": "Google OAuth not configured (redirects to login with error)"
                }
              }
            }
          }
        }
      }
    },
    "/oauth/google/callback": {
      "get": {
        "operationId": "OAuthGoogleApiSpec_get_/oauth/google/callback",
        "tags": [
          "Authentication"
        ],
        "summary": "Handle Google OAuth callback",
        "description": "Handle Google OAuth callback after user authorizes.\n\n**Flow:**\n1. User redirected from Google with authorization code\n2. System verifies state parameter matches stored value (CSRF protection)\n3. System exchanges authorization code for access token via Google Token API\n4. System fetches user profile from Google UserInfo API using access token\n5. System verifies email is confirmed by Google (email_verified=true)\n6. System finds or creates user:\n   - **By Google ID**: If user already authenticated with Google (googleId matches)\n   - **By Email**: If user exists with same email (link accounts, add googleId)\n   - **Create New**: If no matching user found (new Google user)\n7. User record updated/created:\n   - Email marked as verified (trust Google verification)\n   - Username generated from email if needed\n   - authProvider set to 'google'\n   - googleId stored for future logins\n8. OIDC session created (OAuth token issued)\n9. User redirected to app with success status\n\n**User Creation Details:**\n- Email marked as verified (trust Google)\n- Username generated from email (before @ symbol, deduplicated if needed)\n- Random password hash (not used, user logs in via Google)\n- authProvider: 'google'\n- googleId: Stored for future authentication\n\n**Account Linking:**\n- If user exists with same email, Google account is linked\n- googleId added to existing user record\n- Existing password-based login still works\n\n**Query Parameters:**\n- code: Authorization code from Google (required)\n- state: CSRF protection token (required, must match authorize request)\n- error: Error code from Google (if authorization failed)\n\n**Response**: HTTP 302 redirect to login page with status\n- Success: /login?google_auth=success\n- State mismatch: /login?error=state_mismatch\n- Email not verified: /login?error=email_not_verified\n- User creation failed: /login?error=user_creation_failed\n\n**Rate Limit**: 10 requests per minute per IP address\n\n**Security:**\n- CSRF protection via state parameter verification\n- Email verification required by Google\n- Account linking only for verified emails\n- Secure token exchange with Google",
        "parameters": [
          {
            "description": "Authorization code from Google",
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "CSRF protection token (must match state from authorize request)",
            "name": "state",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Error code from Google (if authorization failed)",
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect Response (HTTP 302)\nEmpty body - response is an HTTP redirect",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RedirectResponse",
                  "description": "Redirect to login page with success or error status"
                }
              }
            }
          },
          "400": {
            "description": "Redirect Response (HTTP 302)\nEmpty body - response is an HTTP redirect",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RedirectResponse",
                  "description": "State mismatch, email not verified, or user creation failed (redirects to login with error)"
                }
              }
            }
          }
        }
      }
    },
    "/oauth/token/enhance": {
      "post": {
        "operationId": "OAuthGoogleApiSpec_post_/oauth/token/enhance",
        "tags": [
          "Authentication"
        ],
        "summary": "Enhance OAuth token with user data and credits",
        "description": "Enhance an OAuth token response with user profile and/or credit information.\n\nThis endpoint is called immediately after obtaining an access token from /oauth/token\nto retrieve initial user data in a single request, reducing round trips.\n\n**Use Cases:**\n1. **Initial Login**: Call with `include_user_data=true` to get full profile + credits\n   - Returns user ID, email, display name, subscription tier/status, and credits\n   - Useful for populating UI after login\n\n2. **Token Refresh**: Call with `include_credits=true` to get updated credits only\n   - Returns current credit balance without full profile\n   - Useful for refreshing credit display without full profile fetch\n\n3. **Both**: Call with both flags to get everything\n   - Returns full user data and separate credits object\n   - Useful for comprehensive state updates\n\n**Token Validation:**\n- Validates JWT signature using JWKS from identity provider\n- Checks token expiration (exp claim)\n- Falls back to token introspection if JWT validation fails\n- Extracts user ID from 'sub' claim\n\n**Response Structure:**\n- If `include_user_data=true`: Returns `user` object with profile and nested credits\n- If `include_credits=true`: Returns `credits` object with credit balances\n- If both: Returns both `user` and `credits` objects\n\n**Credits Data:**\n- freeCredits: Monthly allocation (resets on resetDate)\n  - remaining: Current balance\n  - monthlyAllocation: Total monthly credits\n  - resetDate: Next reset date (ISO 8601)\n- proCredits: Purchased credits (no expiration)\n  - remaining: Current balance\n  - purchasedTotal: Total purchased (lifetime)\n- totalAvailable: Sum of free + pro credits\n\n**Rate Limit**: 30 requests per minute\n\n**Security:**\n- Validates JWT signature (RS256)\n- Checks token expiration\n- Falls back to introspection for non-JWT tokens\n- User ID extracted from token claims (no user input)",
        "parameters": [],
        "requestBody": {
          "description": "Enhanced Token Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Enhanced Token Request Body",
                "type": "object",
                "properties": {
                  "access_token": {
                    "description": "JWT access token from /oauth/token\nRS256 signed token from OIDC provider",
                    "type": "string"
                  },
                  "include_user_data": {
                    "description": "Include full user profile and credits\nString enum: \"true\" or \"false\"",
                    "default": "false",
                    "enum": [
                      "false",
                      "true"
                    ],
                    "type": "string"
                  },
                  "include_credits": {
                    "description": "Include only credits (without full profile)\nString enum: \"true\" or \"false\"",
                    "default": "false",
                    "enum": [
                      "false",
                      "true"
                    ],
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "access_token"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Enhanced Token Response\nContains user data and/or credits based on request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnhanceTokenResponse",
                  "description": "Enhanced token response with requested data"
                }
              }
            }
          },
          "400": {
            "description": "Enhance Token Error Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnhanceTokenError",
                  "description": "Validation error or invalid request parameters"
                }
              }
            }
          },
          "401": {
            "description": "Enhance Token Error Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnhanceTokenError",
                  "description": "Invalid or expired access token"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded (30 per minute)"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/api/user/credits": {
      "get": {
        "operationId": "UserCreditsApiSpec_get_/api/user/credits",
        "tags": [
          "Credits"
        ],
        "summary": "Get detailed credit information",
        "description": "Retrieve authenticated user's detailed credit breakdown including:\n- Monthly subscription credits\n- Purchased credits\n- Lifetime usage statistics\n- Total available credits\n\n**Caching Recommendation**: Cache this response for 5 minutes on the client side.\nRe-fetch after API requests that consume credits.\n\n**Rate Limit**: 60 requests per minute",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Detailed Credits Response\nComprehensive breakdown of user's credit allocation and usage",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DetailedCreditsResponse",
                  "description": "Successful response with detailed credits"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope (requires credits.read)"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/api/user/profile": {
      "get": {
        "operationId": "UserProfileApiSpec_get_/api/user/profile",
        "tags": [
          "Users"
        ],
        "summary": "Get detailed user profile",
        "description": "Retrieve authenticated user's complete profile including:\n- Email and display name\n- Subscription tier and status\n- User preferences (default model, notification settings)\n- Account timestamps\n\n**Caching Recommendation**: Cache this response for 1 hour on the client side.\nRe-fetch only when profile data is explicitly needed (e.g., settings page).\n\n**Rate Limit**: 30 requests per minute",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "User Profile Response\nComplete user profile with subscription and preferences",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse",
                  "description": "Successful response with user profile"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/completions": {
      "post": {
        "operationId": "V1ChatApiSpec_post_/v1/chat/completions",
        "tags": [
          "V1 - Inference"
        ],
        "summary": "Execute chat completion request",
        "description": "Execute a chat completion request using the specified model.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: llm.inference\n**Credit Check**: Ensures user has sufficient credits before execution\n\n**Request Requirements**:\n- `model`: Valid model ID (must be accessible for user's tier)\n- `messages`: At least one message required\n- `max_tokens`: Maximum 8192 tokens (default: 1000)\n- `temperature`: 0-2 range (default: 0.7)\n- `n`: 1-10 completions (default: 1)\n\n**Credit Deduction**:\n- Credits are deducted based on token usage and model pricing\n- Usage statistics returned in `usage` field\n- Credits are calculated as: (total_tokens / 1000) * credits_per_1k_tokens\n\n**Tier Access Control**:\n- Model access depends on user's subscription tier\n- Restricted models return 403 Forbidden\n- Upgrade required if model needs higher tier\n\n**Streaming** (if stream=true):\n- Response returns Server-Sent Events (SSE)\n- Each chunk contains partial completion data\n- Final chunk includes usage statistics\n\n**Rate Limit**: Tier-based limits apply (Free: 10/min, Pro: 60/min, Enterprise: 300/min)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "requestBody": {
          "description": "Chat Completion Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Chat Completion Request Body",
                "type": "object",
                "properties": {
                  "model": {
                    "description": "Model ID to use for completion",
                    "type": "string"
                  },
                  "messages": {
                    "description": "Array of messages in the conversation",
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ChatMessage"
                    }
                  },
                  "max_tokens": {
                    "description": "Maximum tokens to generate (max: 8192, default: 1000)",
                    "type": "number"
                  },
                  "temperature": {
                    "description": "Sampling temperature (0-2, default: 0.7)",
                    "type": "number"
                  },
                  "top_p": {
                    "description": "Nucleus sampling parameter (0-1)",
                    "type": "number"
                  },
                  "stream": {
                    "description": "Whether to stream the response",
                    "type": "boolean"
                  },
                  "stop": {
                    "description": "Stop sequences (string or array)",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "presence_penalty": {
                    "description": "Presence penalty (-2 to 2)",
                    "type": "number"
                  },
                  "frequency_penalty": {
                    "description": "Frequency penalty (-2 to 2)",
                    "type": "number"
                  },
                  "n": {
                    "description": "Number of completions to generate (1-10, default: 1)",
                    "type": "number"
                  },
                  "user": {
                    "description": "User identifier for tracking",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "messages",
                  "model"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Chat Completion Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatCompletionResponse",
                  "description": "Successful completion response"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - Validation error or invalid parameters"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope or model access restricted"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Not Found - Model not found"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/completions": {
      "post": {
        "operationId": "V1CompletionsApiSpec_post_/v1/completions",
        "tags": [
          "V1 - Inference"
        ],
        "summary": "Execute text completion request",
        "description": "Execute a text completion request using the specified model.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: llm.inference\n**Credit Check**: Ensures user has sufficient credits before execution\n\n**Request Requirements**:\n- `model`: Valid model ID (must be accessible for user's tier)\n- `prompt`: Text prompt (required)\n- `max_tokens`: Maximum 8192 tokens (default: 1000)\n- `temperature`: 0-2 range (default: 0.7)\n- `n`: 1-10 completions (default: 1)\n\n**Credit Deduction**:\n- Credits are deducted based on token usage and model pricing\n- Usage statistics returned in `usage` field\n- Credits are calculated as: (total_tokens / 1000) * credits_per_1k_tokens\n\n**Tier Access Control**:\n- Model access depends on user's subscription tier\n- Restricted models return 403 Forbidden\n- Upgrade required if model needs higher tier\n\n**Streaming** (if stream=true):\n- Response returns Server-Sent Events (SSE)\n- Each chunk contains partial completion data\n- Final chunk includes usage statistics\n\n**Advanced Parameters**:\n- `echo`: Include prompt in response text\n- `best_of`: Generate N completions, return best (costs N times credits)\n- `logprobs`: Return log probabilities for debugging/analysis\n\n**Rate Limit**: Tier-based limits apply (Free: 10/min, Pro: 60/min, Enterprise: 300/min)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "requestBody": {
          "description": "Text Completion Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Text Completion Request Body",
                "type": "object",
                "properties": {
                  "model": {
                    "description": "Model ID to use for completion",
                    "type": "string"
                  },
                  "prompt": {
                    "description": "Input prompt text",
                    "type": "string"
                  },
                  "max_tokens": {
                    "description": "Maximum tokens to generate (max: 8192, default: 1000)",
                    "type": "number"
                  },
                  "temperature": {
                    "description": "Sampling temperature (0-2, default: 0.7)",
                    "type": "number"
                  },
                  "top_p": {
                    "description": "Nucleus sampling parameter (0-1)",
                    "type": "number"
                  },
                  "stream": {
                    "description": "Whether to stream the response",
                    "type": "boolean"
                  },
                  "stop": {
                    "description": "Stop sequences (string or array)",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "presence_penalty": {
                    "description": "Presence penalty (-2 to 2)",
                    "type": "number"
                  },
                  "frequency_penalty": {
                    "description": "Frequency penalty (-2 to 2)",
                    "type": "number"
                  },
                  "n": {
                    "description": "Number of completions to generate (1-10, default: 1)",
                    "type": "number"
                  },
                  "user": {
                    "description": "User identifier for tracking",
                    "type": "string"
                  },
                  "echo": {
                    "description": "Echo the prompt in the response",
                    "type": "boolean"
                  },
                  "best_of": {
                    "description": "Generate best_of completions and return the best",
                    "type": "number"
                  },
                  "logprobs": {
                    "description": "Log probabilities for top N tokens",
                    "type": "number"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "model",
                  "prompt"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Text Completion Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TextCompletionResponse",
                  "description": "Successful completion response"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - Validation error or invalid parameters"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope or model access restricted"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Not Found - Model not found"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/credits/me": {
      "get": {
        "operationId": "V1CreditsUsageApiSpec_get_/v1/credits/me",
        "tags": [
          "V1 - Credits & Usage"
        ],
        "summary": "Get current user credits",
        "description": "Retrieve authenticated user's current credit balance and allocation.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: credits.read\n\nReturns detailed credit information including:\n- Total credits allocated for current billing period\n- Credits used so far\n- Remaining credits\n- Billing period dates\n- Usage percentage\n\n**Response**:\n- 200: Credit record found\n- 404: No active credit record (should not happen for users with subscriptions)\n\n**Use Case**: Display credit balance in desktop app dashboard\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Current Credits Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V1CurrentCreditsResponse",
                  "description": "Successful response with credit details"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope (requires credits.read)"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Not Found - No active credit record"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/usage": {
      "get": {
        "operationId": "V1CreditsUsageApiSpec_get_/v1/usage",
        "tags": [
          "V1 - Credits & Usage"
        ],
        "summary": "Get usage history with filtering and pagination",
        "description": "Retrieve authenticated user's usage history with optional filters.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: credits.read\n\nReturns paginated usage records with detailed information about each API request including:\n- Model used\n- Operation type (completion, chat, embedding, function_call)\n- Credits deducted\n- Token consumption (input, output, total)\n- Request duration\n- Timestamp\n\n**Query Parameters**:\n- `start_date`: Filter by start date (ISO 8601 datetime)\n- `end_date`: Filter by end date (ISO 8601 datetime)\n- `model_id`: Filter by specific model\n- `operation`: Filter by operation type\n- `limit`: Records per page (1-100, default: 20)\n- `offset`: Pagination offset (default: 0)\n\n**Pagination**:\n- Use `offset` for pagination\n- `hasMore` indicates if more records exist\n- `total` shows total matching records\n\n**Summary Statistics**:\n- Response includes summary with total credits used, requests count, and tokens consumed\n- Summary respects filters (date range, model, operation)\n\n**Use Case**: Desktop app displays usage analytics and history\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "description": "Start date filter (ISO 8601)",
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "End date filter (ISO 8601)",
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Filter by model ID",
            "name": "model_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Filter by operation type (completion, chat, embedding, function_call)",
            "name": "operation",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "chat",
                "completion",
                "embedding",
                "function_call"
              ],
              "type": "string"
            }
          },
          {
            "description": "Number of records to return (1-100, default: 20)",
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "description": "Pagination offset (default: 0)",
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Usage History Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V1UsageHistoryResponse",
                  "description": "Successful response with usage history"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - Invalid query parameters"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope (requires credits.read)"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/models": {
      "get": {
        "operationId": "V1ModelsApiSpec_get_/v1/models",
        "tags": [
          "V1 - Models"
        ],
        "summary": "List available models",
        "description": "Retrieve list of available LLM models with optional filters.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: models.read\n\nReturns models with tier access control information. Access status indicates whether the current user can use each model based on their subscription tier.\n\n**Query Parameters**:\n- `available`: Filter by availability (true/false)\n- `capability`: Comma-separated capabilities (text, vision, function_calling, code, long_context)\n- `provider`: Filter by provider (openai, anthropic, google)\n\n**Tier Access Control**:\n- Each model has a `required_tier` and `access_status`\n- `access_status` values: allowed, restricted, upgrade_required\n- Includes upgrade information if user needs to upgrade tier\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "description": "Filter by availability (true/false)",
            "name": "available",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "description": "Comma-separated list of capabilities (text, vision, function_calling, code, long_context)",
            "name": "capability",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Filter by provider (openai, anthropic, google)",
            "name": "provider",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Model List Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelListResponse",
                  "description": "Successful response with model list"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - Invalid query parameters"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope (requires models.read)"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/subscription-plans": {
      "get": {
        "operationId": "V1SubscriptionPlansApiSpec_get_/v1/subscription-plans",
        "tags": [
          "V1 - Subscriptions"
        ],
        "summary": "List subscription plans",
        "description": "Get available subscription plans (public endpoint).\n\n**Authentication**: NOT REQUIRED - Public endpoint\n\nReturns all available subscription plans with pricing and features.\n\n**Response Includes**:\n- Plan ID and name\n- Pricing information (price, currency, interval)\n- Feature list for each tier\n- Available for free, pro, and enterprise tiers\n\n**Use Case**: Display pricing page, compare plans\n\n**Rate Limit**: Standard rate limits apply (more lenient for public endpoint)",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Subscription Plans List Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionPlansResponse",
                  "description": "Successful response with subscription plans"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/subscriptions": {
      "post": {
        "operationId": "V1SubscriptionPlansApiSpec_post_/v1/subscriptions",
        "tags": [
          "V1 - Subscriptions"
        ],
        "summary": "Create subscription",
        "description": "Create new subscription for authenticated user.\n\n**Authentication**: Requires JWT bearer token\n\nCreates a new subscription or upgrades existing subscription to selected plan.\n\n**Request Requirements**:\n- `planId`: Valid plan ID from /v1/subscription-plans\n- `paymentMethodId`: Stripe payment method ID (required for paid plans)\n\n**Subscription Creation**:\n- Free tier: No payment method required\n- Paid tiers: Valid Stripe payment method required\n- Automatically starts trial if configured for plan\n- Creates billing subscription in Stripe\n\n**Response**: Returns created subscription details\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "requestBody": {
          "description": "Create Subscription Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Create Subscription Request Body",
                "type": "object",
                "properties": {
                  "planId": {
                    "description": "Plan ID to subscribe to",
                    "type": "string"
                  },
                  "paymentMethodId": {
                    "description": "Payment method ID from Stripe (optional for free tier)",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "planId"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Subscription Info Response\nComplete subscription information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionInfoResponse",
                  "description": "Subscription created successfully"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - Invalid plan ID or payment method"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/subscriptions/me/cancel": {
      "post": {
        "operationId": "V1SubscriptionPlansApiSpec_post_/v1/subscriptions/me/cancel",
        "tags": [
          "V1 - Subscriptions"
        ],
        "summary": "Cancel subscription",
        "description": "Cancel current subscription (effective at period end).\n\n**Authentication**: Requires JWT bearer token\n\nCancels the user's active subscription. Subscription remains active until the end of the current billing period.\n\n**Cancellation Behavior**:\n- Subscription marked for cancellation at period end\n- User retains access until `currentPeriodEnd`\n- No refund for remaining period\n- User can still use allocated credits until period end\n- Status changes to 'cancelled'\n- `cancelAtPeriodEnd` flag set to true\n\n**Reactivation**: User can resubscribe before period end to prevent cancellation\n\n**Response**: Returns updated subscription details with cancellation flag\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Subscription Info Response\nComplete subscription information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionInfoResponse",
                  "description": "Subscription cancelled successfully"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Not Found - No active subscription to cancel"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/subscriptions/me": {
      "get": {
        "operationId": "V1SubscriptionsApiSpec_get_/v1/subscriptions/me",
        "tags": [
          "V1 - Subscriptions"
        ],
        "summary": "Get current user subscription",
        "description": "Retrieve authenticated user's current subscription information.\n\n**Authentication**: Requires JWT bearer token\n\nReturns detailed subscription information including:\n- Subscription tier and status\n- Credits allocation per month\n- Billing interval and price\n- Current billing period dates\n- Trial end date (if in trial)\n\n**Response Cases**:\n- 200: Active subscription found\n- 404: User does not have an active subscription (e.g., free tier with no payment)\n\n**Subscription Statuses**:\n- `active`: Subscription is active and paid\n- `trialing`: In trial period\n- `past_due`: Payment failed, subscription still active but needs payment\n- `canceled`: Subscription canceled (may still have access until period end)\n- `inactive`: Subscription expired or not started\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Subscription Response\nCurrent user's subscription details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V1SubscriptionResponse",
                  "description": "Successful response with subscription details"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Not Found - No active subscription"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/usage/stats": {
      "get": {
        "operationId": "V1UsageWebhooksApiSpec_get_/v1/usage/stats",
        "tags": [
          "V1 - Usage",
          "V1 - Webhooks"
        ],
        "summary": "Get usage statistics",
        "description": "Get aggregated usage statistics for authenticated user.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: credits.read\n\nReturns usage statistics aggregated by specified period (default: month).\n\n**Query Parameters**:\n- `period`: Aggregation period (day, week, month, year) - default: month\n\n**Response Includes**:\n- Total credits used in period\n- Total number of API requests\n- Usage breakdown by model\n- Time-series usage data (byDate array)\n\n**Use Cases**:\n- Display usage dashboard\n- Track credit consumption\n- Analyze usage patterns by model\n- Historical usage trends\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "description": "Aggregation period (day, week, month, year)",
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "day",
                "month",
                "week",
                "year"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Usage Statistics Response\nAggregated usage statistics for specified period",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageStatsResponse",
                  "description": "Successful response with usage statistics"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - Invalid period parameter"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope (requires credits.read)"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rate-limit": {
      "get": {
        "operationId": "V1UsageWebhooksApiSpec_get_/v1/rate-limit",
        "tags": [
          "V1 - Usage",
          "V1 - Webhooks"
        ],
        "summary": "Get rate limit status",
        "description": "Get current rate limit status for authenticated user.\n\n**Authentication**: Requires JWT bearer token\n\nReturns current rate limit information based on user's subscription tier.\n\n**Rate Limits by Tier**:\n- Free: 10 requests/minute\n- Pro: 60 requests/minute\n- Enterprise: 300 requests/minute\n\n**Response Includes**:\n- `limit`: Max requests per minute for user's tier\n- `remaining`: Remaining requests in current window\n- `reset`: ISO 8601 timestamp when limit resets\n\n**Use Cases**:\n- Display rate limit info in UI\n- Implement client-side rate limiting\n- Monitor API usage in real-time\n\n**Headers**: Rate limit info also available in response headers (X-RateLimit-*)\n\n**Rate Limit**: This endpoint does NOT count against rate limit",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Rate Limit Status Response\nCurrent rate limit status for authenticated user",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RateLimitStatusResponse",
                  "description": "Successful response with rate limit status"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/webhooks/test": {
      "post": {
        "operationId": "V1UsageWebhooksApiSpec_post_/v1/webhooks/test",
        "tags": [
          "V1 - Usage",
          "V1 - Webhooks"
        ],
        "summary": "Send test webhook",
        "description": "Send a test webhook to configured endpoint.\n\n**Authentication**: Requires JWT bearer token\n\nSends a test webhook event to the user's configured webhook URL.\n\n**Requirements**:\n- User must have webhook configured (via /v1/webhooks/config)\n- Webhook URL must be reachable\n\n**Test Webhook Payload**:\n- Event type: \"test\"\n- Sample data structure\n- Timestamp and user ID\n\n**Response**:\n- `success`: true if webhook sent successfully\n- `message`: Description of result or error\n\n**Error Cases**:\n- 400: No webhook configured for user\n- 500: Webhook delivery failed (timeout, unreachable, etc.)\n\n**Use Cases**:\n- Verify webhook configuration\n- Test webhook endpoint before going live\n- Debug webhook integration\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Test Webhook Response\nResult of webhook test request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestWebhookResponse",
                  "description": "Test webhook sent successfully"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - No webhook configured"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error - Webhook delivery failed"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/me/preferences": {
      "get": {
        "operationId": "V1UserPreferencesApiSpec_get_/v1/users/me/preferences",
        "tags": [
          "V1 - Users"
        ],
        "summary": "Get user preferences",
        "description": "Retrieve authenticated user's preferences and settings.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: user.info\n\nReturns user preferences including:\n- Default model selection\n- Email notification settings\n- Usage alert preferences\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "User Preferences Response\nUser's preference settings and configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferencesResponse",
                  "description": "Successful response with user preferences"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope (requires user.info)"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "operationId": "V1UserPreferencesApiSpec_patch_/v1/users/me/preferences",
        "tags": [
          "V1 - Users"
        ],
        "summary": "Update user preferences",
        "description": "Update authenticated user's preferences and settings.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: user.info\n\nAllows partial updates to preferences. Only provided fields will be updated.\n\n**Validation**:\n- At least one field must be provided\n- defaultModel must be a valid model ID if provided\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "requestBody": {
          "description": "Update User Preferences Request Body\nPartial update of user preferences",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Update User Preferences Request Body\nPartial update of user preferences",
                "type": "object",
                "properties": {
                  "defaultModel": {
                    "description": "User's preferred default model (optional)",
                    "type": "string",
                    "nullable": true
                  },
                  "emailNotifications": {
                    "description": "Email notification preference (optional)",
                    "type": "boolean"
                  },
                  "usageAlerts": {
                    "description": "Usage alert preference (optional)",
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User Preferences Response\nUser's preference settings and configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferencesResponse",
                  "description": "Successful response with updated preferences"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - Validation error or no fields provided"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope (requires user.info)"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/me/preferences/model": {
      "patch": {
        "operationId": "V1UserPreferencesApiSpec_patch_/v1/users/me/preferences/model",
        "tags": [
          "V1 - Users"
        ],
        "summary": "Update default model preference",
        "description": "Set user's default AI model preference.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: user.info\n\nSets the default model used for inference requests when no model is specified.\n\n**Validation**:\n- modelId must be a valid model ID\n- Model must be accessible for user's tier\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "requestBody": {
          "description": "Set Default Model Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Set Default Model Request Body",
                "type": "object",
                "properties": {
                  "modelId": {
                    "description": "Model ID to set as default",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "modelId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Model Response\nUser's default model preference",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DefaultModelResponse",
                  "description": "Successful response with updated default model"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - Invalid model ID"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope or model access restricted"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Not Found - Model not found"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/me": {
      "get": {
        "operationId": "V1UsersApiSpec_get_/v1/users/me",
        "tags": [
          "V1 - Users"
        ],
        "summary": "Get current user profile",
        "description": "Retrieve authenticated user's profile information.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: user.info\n\nReturns user profile with basic information including email, names, username, role, and timestamps.\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "User Profile Response\nComplete user profile information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V1UserProfileResponse",
                  "description": "Successful response with user profile"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope (requires user.info)"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Not Found - User not found"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "operationId": "V1UsersApiSpec_patch_/v1/users/me",
        "tags": [
          "V1 - Users"
        ],
        "summary": "Update user profile",
        "description": "Update authenticated user's profile information.\n\n**Authentication**: Requires JWT bearer token\n**Scope Required**: user.info\n\nAllows updating firstName, lastName, and username. At least one field must be provided.\n\n**Validation**:\n- Username must be unique if provided\n- At least one field required for update\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "requestBody": {
          "description": "Update User Profile Request Body",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "description": "Update User Profile Request Body",
                "type": "object",
                "properties": {
                  "firstName": {
                    "description": "First name (optional)",
                    "type": "string"
                  },
                  "lastName": {
                    "description": "Last name (optional)",
                    "type": "string"
                  },
                  "username": {
                    "description": "Username (optional)",
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User Profile Response\nComplete user profile information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V1UserProfileResponse",
                  "description": "Successful response with updated profile"
                }
              }
            }
          },
          "400": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Bad request - Validation error or no fields provided"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "403": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Forbidden - Insufficient scope (requires user.info)"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Not Found - User not found"
                }
              }
            }
          },
          "409": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Conflict - Username already taken"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/webhooks/config": {
      "get": {
        "operationId": "V1WebhooksApiSpec_get_/v1/webhooks/config",
        "tags": [
          "V1 - Webhooks"
        ],
        "summary": "Get user webhook configuration",
        "description": "Retrieve authenticated user's webhook configuration.\n\n**Authentication**: Requires JWT bearer token\n\nReturns webhook configuration details including:\n- Webhook URL endpoint\n- Active status\n- Configuration metadata\n\n**Security Note**:\n- Webhook secret is NOT included in response for security\n- Secret is only returned when configuration is created/updated\n\n**Response Cases**:\n- 200: Webhook configuration found\n- 404: User has no webhook configuration\n\n**Use Case**: Desktop app displays webhook settings for receiving API event notifications\n\n**Webhook Events**:\nWebhooks receive notifications for:\n- API request completions\n- Credit balance updates\n- Subscription changes\n- Usage threshold alerts\n\n**Rate Limit**: Standard tier-based limits apply",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Webhook Configuration Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V1WebhookConfigResponse",
                  "description": "Successful response with webhook configuration"
                }
              }
            }
          },
          "401": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Unauthorized - Missing or invalid JWT token"
                }
              }
            }
          },
          "404": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Not Found - No webhook configuration"
                }
              }
            }
          },
          "429": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Rate limit exceeded"
                }
              }
            }
          },
          "500": {
            "description": "API Error Structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError",
                  "description": "Internal server error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ResetPasswordResponse": {
        "description": "Reset Password Response\nPassword reset successfully",
        "type": "object",
        "properties": {
          "status": {
            "description": "Status of the operation",
            "type": "string",
            "enum": [
              "success"
            ]
          },
          "data": {
            "description": "Reset password response data",
            "type": "object",
            "properties": {
              "success": {
                "description": "Reset success flag",
                "type": "boolean"
              }
            },
            "additionalProperties": false,
            "required": [
              "success"
            ]
          },
          "meta": {
            "description": "Response metadata",
            "type": "object",
            "properties": {
              "message": {
                "description": "Success message",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "data",
          "meta",
          "status"
        ]
      },
      "ResetPasswordError": {
        "description": "Reset Password Error Response",
        "type": "object",
        "properties": {
          "error": {
            "description": "Error object",
            "type": "object",
            "properties": {
              "code": {
                "description": "Error code",
                "enum": [
                  "invalid_token",
                  "token_expired",
                  "user_not_found",
                  "validation_error",
                  "weak_password"
                ],
                "type": "string"
              },
              "message": {
                "description": "Human-readable error message",
                "type": "string"
              },
              "details": {
                "description": "Detailed validation errors (optional)",
                "type": "object",
                "properties": {
                  "errors": {
                    "description": "Array of validation error messages",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false,
                "required": [
                  "errors"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "code",
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "error"
        ]
      },
      "ApiError": {
        "description": "API Error Structure",
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "details": {},
          "field": {
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "code",
          "message"
        ]
      },
      "ResetPasswordRequest": {
        "description": "Reset Password Request Body",
        "type": "object",
        "properties": {
          "token": {
            "description": "Reset token from email (64-character hexadecimal string)\nSent via password reset email, valid for 1 hour",
            "type": "string"
          },
          "email": {
            "description": "Email address (max 255 characters)\nMust match account being reset",
            "type": "string"
          },
          "newPassword": {
            "description": "New password (minimum 8 characters, maximum 100 characters)\nMust include:\n- At least 1 uppercase letter\n- At least 1 lowercase letter\n- At least 1 number\n- At least 1 special character (!@#$%^&*)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "email",
          "newPassword",
          "token"
        ]
      },
      "RegisterResponse": {
        "description": "Registration Response\nUser account created successfully, email verification required",
        "type": "object",
        "properties": {
          "status": {
            "description": "Status of the operation",
            "type": "string",
            "enum": [
              "success"
            ]
          },
          "data": {
            "description": "Registration response data",
            "type": "object",
            "properties": {
              "id": {
                "description": "User ID (UUID format)",
                "type": "string"
              },
              "email": {
                "description": "User's email address",
                "type": "string"
              },
              "emailVerified": {
                "description": "Email verification status (always false after registration)",
                "type": "boolean"
              }
            },
            "additionalProperties": false,
            "required": [
              "email",
              "emailVerified",
              "id"
            ]
          },
          "meta": {
            "description": "Response metadata",
            "type": "object",
            "properties": {
              "message": {
                "description": "Success message with next steps",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "data",
          "meta",
          "status"
        ]
      },
      "RegisterValidationError": {
        "description": "Registration Validation Error Response",
        "type": "object",
        "properties": {
          "error": {
            "description": "Error object",
            "type": "object",
            "properties": {
              "code": {
                "description": "Error code",
                "enum": [
                  "email_exists",
                  "username_taken",
                  "validation_error",
                  "weak_password"
                ],
                "type": "string"
              },
              "message": {
                "description": "Human-readable error message",
                "type": "string"
              },
              "details": {
                "description": "Detailed validation errors (array of field-specific errors)",
                "type": "object",
                "properties": {
                  "errors": {
                    "description": "Array of validation error messages",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false,
                "required": [
                  "errors"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "code",
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "error"
        ]
      },
      "RegisterRequest": {
        "description": "Registration Request Body",
        "type": "object",
        "properties": {
          "email": {
            "description": "Email address (must be unique, max 255 characters)",
            "type": "string"
          },
          "password": {
            "description": "Password (minimum 8 characters, maximum 100 characters)\nMust include:\n- At least 1 uppercase letter\n- At least 1 lowercase letter\n- At least 1 number\n- At least 1 special character (!@#$%^&*)",
            "type": "string"
          },
          "username": {
            "description": "Username (3-30 characters)\nCan only contain letters, numbers, and underscores\nMust be unique",
            "type": "string"
          },
          "firstName": {
            "description": "First name (1-100 characters)\nCan only contain letters, spaces, hyphens, and apostrophes",
            "type": "string"
          },
          "lastName": {
            "description": "Last name (1-100 characters)\nCan only contain letters, spaces, hyphens, and apostrophes",
            "type": "string"
          },
          "acceptedTerms": {
            "description": "Must be true to accept terms and conditions",
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "required": [
          "acceptedTerms",
          "email",
          "firstName",
          "lastName",
          "password",
          "username"
        ]
      },
      "VerifyEmailResponse": {
        "description": "Email Verification Response\nEmail verified successfully",
        "type": "object",
        "properties": {
          "status": {
            "description": "Status of the operation",
            "type": "string",
            "enum": [
              "success"
            ]
          },
          "data": {
            "description": "Verification response data",
            "type": "object",
            "properties": {
              "success": {
                "description": "Verification success flag",
                "type": "boolean"
              }
            },
            "additionalProperties": false,
            "required": [
              "success"
            ]
          },
          "meta": {
            "description": "Response metadata",
            "type": "object",
            "properties": {
              "message": {
                "description": "Success message",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "data",
          "meta",
          "status"
        ]
      },
      "VerifyEmailError": {
        "description": "Email Verification Error Response",
        "type": "object",
        "properties": {
          "error": {
            "description": "Error object",
            "type": "object",
            "properties": {
              "code": {
                "description": "Error code",
                "enum": [
                  "already_verified",
                  "invalid_token",
                  "no_token",
                  "token_expired",
                  "validation_error"
                ],
                "type": "string"
              },
              "message": {
                "description": "Human-readable error message",
                "type": "string"
              },
              "details": {
                "description": "Detailed validation errors (optional)",
                "type": "object",
                "properties": {
                  "errors": {
                    "description": "Array of validation error messages",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false,
                "required": [
                  "errors"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "code",
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "error"
        ]
      },
      "VerifyEmailRequest": {
        "description": "Email Verification Request Body",
        "type": "object",
        "properties": {
          "token": {
            "description": "Email verification token (sent via email, max 255 characters)",
            "type": "string"
          },
          "email": {
            "description": "Email address (max 255 characters)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "email",
          "token"
        ]
      },
      "ForgotPasswordResponse": {
        "description": "Forgot Password Response\nGeneric success message (prevents email enumeration)",
        "type": "object",
        "properties": {
          "status": {
            "description": "Status of the operation",
            "type": "string",
            "enum": [
              "success"
            ]
          },
          "data": {
            "description": "Forgot password response data",
            "type": "object",
            "properties": {
              "success": {
                "description": "Request success flag",
                "type": "boolean"
              }
            },
            "additionalProperties": false,
            "required": [
              "success"
            ]
          },
          "meta": {
            "description": "Response metadata",
            "type": "object",
            "properties": {
              "message": {
                "description": "Generic success message\nAlways returns same message regardless of email existence (security best practice)",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "data",
          "meta",
          "status"
        ]
      },
      "ForgotPasswordError": {
        "description": "Forgot Password Validation Error Response",
        "type": "object",
        "properties": {
          "error": {
            "description": "Error object",
            "type": "object",
            "properties": {
              "code": {
                "description": "Error code",
                "type": "string",
                "enum": [
                  "validation_error"
                ]
              },
              "message": {
                "description": "Human-readable error message",
                "type": "string"
              },
              "details": {
                "description": "Detailed validation errors",
                "type": "object",
                "properties": {
                  "errors": {
                    "description": "Array of validation error messages",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false,
                "required": [
                  "errors"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "code",
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "error"
        ]
      },
      "ForgotPasswordRequest": {
        "description": "Forgot Password Request Body",
        "type": "object",
        "properties": {
          "email": {
            "description": "Email address (max 255 characters)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "email"
        ]
      },
      "TrackDownloadResponse": {
        "description": "Track Download Success Response",
        "type": "object",
        "properties": {
          "success": {
            "description": "Operation success flag",
            "type": "boolean"
          },
          "data": {
            "description": "Download tracking data",
            "type": "object",
            "properties": {
              "downloadUrl": {
                "description": "Download URL for the specified OS",
                "type": "string"
              },
              "downloadId": {
                "description": "Unique download tracking ID",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "downloadId",
              "downloadUrl"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "data",
          "success"
        ]
      },
      "TrackDownloadRequest": {
        "description": "Track Download Request Body",
        "type": "object",
        "properties": {
          "os": {
            "description": "Operating system\nMust be one of: windows, macos, linux",
            "enum": [
              "linux",
              "macos",
              "windows"
            ],
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "os"
        ]
      },
      "SubmitFeedbackResponse": {
        "description": "Submit Feedback Success Response",
        "type": "object",
        "properties": {
          "success": {
            "description": "Operation success flag",
            "type": "boolean"
          },
          "data": {
            "description": "Feedback submission data",
            "type": "object",
            "properties": {
              "feedbackId": {
                "description": "Unique feedback ID",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "feedbackId"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "data",
          "success"
        ]
      },
      "SubmitFeedbackRequest": {
        "description": "Submit Feedback Request Body",
        "type": "object",
        "properties": {
          "message": {
            "description": "Feedback message (1-1000 characters)\nRequired field",
            "type": "string"
          },
          "email": {
            "description": "Optional email for follow-up\nMust be valid email format",
            "type": "string"
          },
          "userId": {
            "description": "Optional user ID\nFor authenticated users",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "message"
        ]
      },
      "GetVersionResponse": {
        "description": "Get Version Success Response",
        "type": "object",
        "properties": {
          "success": {
            "description": "Operation success flag",
            "type": "boolean"
          },
          "data": {
            "description": "Version metadata",
            "type": "object",
            "properties": {
              "version": {
                "description": "Semantic version string (e.g., \"1.2.0\")",
                "type": "string"
              },
              "releaseDate": {
                "description": "Release date (ISO 8601 format)",
                "type": "string"
              },
              "downloadUrl": {
                "description": "Download URL for latest version",
                "type": "string"
              },
              "changelog": {
                "description": "Changelog or release notes",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "changelog",
              "downloadUrl",
              "releaseDate",
              "version"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "data",
          "success"
        ]
      },
      "UploadDiagnosticResponse": {
        "description": "Upload Diagnostic Success Response",
        "type": "object",
        "properties": {
          "success": {
            "description": "Operation success flag",
            "type": "boolean"
          },
          "data": {
            "description": "Diagnostic upload data",
            "type": "object",
            "properties": {
              "diagnosticId": {
                "description": "Unique diagnostic ID",
                "type": "string"
              },
              "fileSize": {
                "description": "Uploaded file size in bytes",
                "type": "number"
              }
            },
            "additionalProperties": false,
            "required": [
              "diagnosticId",
              "fileSize"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "data",
          "success"
        ]
      },
      "DiagnosticUploadError": {
        "description": "Diagnostic Upload Error Response\nSpecific error for invalid file type or size",
        "type": "object",
        "properties": {
          "success": {
            "description": "Operation failure flag",
            "type": "boolean"
          },
          "error": {
            "description": "Error object",
            "type": "object",
            "properties": {
              "code": {
                "description": "Error code",
                "type": "string"
              },
              "message": {
                "description": "Human-readable error message",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "code",
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "error",
          "success"
        ]
      },
      "ApiOverviewResponse": {
        "description": "API Overview Response\nGeneral API information and available endpoints",
        "type": "object",
        "properties": {
          "name": {
            "description": "API name",
            "type": "string"
          },
          "version": {
            "description": "API version (semver)",
            "type": "string"
          },
          "description": {
            "description": "API description",
            "type": "string"
          },
          "documentation": {
            "description": "Path to API documentation",
            "type": "string"
          },
          "health": {
            "description": "Path to health check endpoint",
            "type": "string"
          },
          "endpoints": {
            "$ref": "#/components/schemas/Record_string_unknown_",
            "description": "Available endpoint groups"
          }
        },
        "additionalProperties": false,
        "required": [
          "description",
          "documentation",
          "endpoints",
          "health",
          "name",
          "version"
        ]
      },
      "Record_string_unknown_": {
        "type": "object",
        "additionalProperties": false
      },
      "HealthResponse": {
        "description": "Health Check Response\nComprehensive server health status with diagnostics",
        "type": "object",
        "properties": {
          "status": {
            "description": "Overall health status",
            "type": "string"
          },
          "timestamp": {
            "description": "Current server timestamp (ISO 8601)",
            "type": "string"
          },
          "uptime": {
            "description": "Server uptime in seconds",
            "type": "number"
          },
          "environment": {
            "description": "Environment name (development, production, etc.)",
            "type": "string"
          },
          "version": {
            "description": "API version",
            "type": "string"
          },
          "services": {
            "description": "Service status checks",
            "type": "object",
            "properties": {
              "database": {
                "description": "Database connection status",
                "type": "string"
              },
              "redis": {
                "description": "Redis connection status",
                "type": "string"
              },
              "di_container": {
                "description": "Dependency injection container status",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "database",
              "di_container",
              "redis"
            ]
          },
          "memory": {
            "description": "Memory usage information",
            "type": "object",
            "properties": {
              "used": {
                "description": "Used memory in bytes",
                "type": "number"
              },
              "total": {
                "description": "Total available memory in bytes",
                "type": "number"
              }
            },
            "additionalProperties": false,
            "required": [
              "total",
              "used"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "environment",
          "memory",
          "services",
          "status",
          "timestamp",
          "uptime",
          "version"
        ]
      },
      "ReadinessReadyResponse": {
        "description": "Readiness Check Response (Ready State)\nIndicates service is ready to accept traffic",
        "type": "object",
        "properties": {
          "status": {
            "description": "Service readiness status",
            "type": "string",
            "enum": [
              "ready"
            ]
          },
          "timestamp": {
            "description": "Current timestamp (ISO 8601)",
            "type": "string"
          },
          "checks": {
            "$ref": "#/components/schemas/Record_string_unknown_",
            "description": "Readiness check results by dependency"
          }
        },
        "additionalProperties": false,
        "required": [
          "checks",
          "status",
          "timestamp"
        ]
      },
      "ReadinessNotReadyResponse": {
        "description": "Readiness Check Response (Not Ready State)\nIndicates service is not ready (dependencies unavailable)",
        "type": "object",
        "properties": {
          "status": {
            "description": "Service readiness status",
            "type": "string",
            "enum": [
              "not_ready"
            ]
          },
          "timestamp": {
            "description": "Current timestamp (ISO 8601)",
            "type": "string"
          },
          "checks": {
            "$ref": "#/components/schemas/Record_string_unknown_",
            "description": "Readiness check results showing failures"
          }
        },
        "additionalProperties": false,
        "required": [
          "checks",
          "status",
          "timestamp"
        ]
      },
      "LivenessResponse": {
        "description": "Liveness Check Response\nSimple check to verify server is alive and responding",
        "type": "object",
        "properties": {
          "status": {
            "description": "Server liveness status",
            "type": "string",
            "enum": [
              "alive"
            ]
          },
          "timestamp": {
            "description": "Current timestamp (ISO 8601)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "status",
          "timestamp"
        ]
      },
      "RedirectResponse": {
        "description": "Redirect Response (HTTP 302)\nEmpty body - response is an HTTP redirect",
        "type": "object",
        "additionalProperties": false
      },
      "EnhanceTokenResponse": {
        "description": "Enhanced Token Response\nContains user data and/or credits based on request parameters",
        "type": "object",
        "properties": {
          "user": {
            "description": "User profile data (only if include_user_data=true)",
            "type": "object",
            "properties": {
              "userId": {
                "description": "User ID",
                "type": "string"
              },
              "email": {
                "description": "Email address",
                "type": "string"
              },
              "displayName": {
                "description": "Display name (first + last name)",
                "type": "string"
              },
              "subscription": {
                "description": "Subscription information",
                "type": "object",
                "properties": {
                  "tier": {
                    "description": "Subscription tier",
                    "enum": [
                      "enterprise",
                      "free",
                      "pro"
                    ],
                    "type": "string"
                  },
                  "status": {
                    "description": "Subscription status",
                    "enum": [
                      "active",
                      "cancelled",
                      "expired",
                      "trialing"
                    ],
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "status",
                  "tier"
                ]
              },
              "credits": {
                "description": "Credits data",
                "type": "object",
                "properties": {
                  "freeCredits": {
                    "description": "Free credits allocation",
                    "type": "object",
                    "properties": {
                      "remaining": {
                        "description": "Remaining free credits",
                        "type": "number"
                      },
                      "monthlyAllocation": {
                        "description": "Monthly allocation",
                        "type": "number"
                      },
                      "resetDate": {
                        "description": "Reset date (ISO 8601)",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false,
                    "required": [
                      "monthlyAllocation",
                      "remaining",
                      "resetDate"
                    ]
                  },
                  "proCredits": {
                    "description": "Pro credits (purchased)",
                    "type": "object",
                    "properties": {
                      "remaining": {
                        "description": "Remaining pro credits",
                        "type": "number"
                      },
                      "purchasedTotal": {
                        "description": "Total purchased credits",
                        "type": "number"
                      }
                    },
                    "additionalProperties": false,
                    "required": [
                      "purchasedTotal",
                      "remaining"
                    ]
                  },
                  "totalAvailable": {
                    "description": "Total available credits (free + pro)",
                    "type": "number"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "freeCredits",
                  "proCredits",
                  "totalAvailable"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "credits",
              "displayName",
              "email",
              "subscription",
              "userId"
            ]
          },
          "credits": {
            "description": "Credits data (if include_credits=true or include_user_data=true)",
            "type": "object",
            "properties": {
              "freeCredits": {
                "description": "Free credits allocation",
                "type": "object",
                "properties": {
                  "remaining": {
                    "description": "Remaining free credits",
                    "type": "number"
                  },
                  "monthlyAllocation": {
                    "description": "Monthly allocation",
                    "type": "number"
                  },
                  "resetDate": {
                    "description": "Reset date (ISO 8601)",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "monthlyAllocation",
                  "remaining",
                  "resetDate"
                ]
              },
              "proCredits": {
                "description": "Pro credits (purchased)",
                "type": "object",
                "properties": {
                  "remaining": {
                    "description": "Remaining pro credits",
                    "type": "number"
                  },
                  "purchasedTotal": {
                    "description": "Total purchased credits",
                    "type": "number"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "purchasedTotal",
                  "remaining"
                ]
              },
              "totalAvailable": {
                "description": "Total available credits (free + pro)",
                "type": "number"
              }
            },
            "additionalProperties": false,
            "required": [
              "freeCredits",
              "proCredits",
              "totalAvailable"
            ]
          }
        },
        "additionalProperties": false
      },
      "EnhanceTokenError": {
        "description": "Enhance Token Error Response",
        "type": "object",
        "properties": {
          "error": {
            "description": "Error object",
            "type": "object",
            "properties": {
              "code": {
                "description": "Error code",
                "enum": [
                  "invalid_token",
                  "token_expired",
                  "user_not_found",
                  "validation_error"
                ],
                "type": "string"
              },
              "message": {
                "description": "Human-readable error message",
                "type": "string"
              },
              "details": {
                "description": "Detailed validation errors (optional)",
                "type": "object",
                "properties": {
                  "errors": {
                    "description": "Array of validation error messages",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false,
                "required": [
                  "errors"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "code",
              "message"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "error"
        ]
      },
      "EnhanceTokenRequest": {
        "description": "Enhanced Token Request Body",
        "type": "object",
        "properties": {
          "access_token": {
            "description": "JWT access token from /oauth/token\nRS256 signed token from OIDC provider",
            "type": "string"
          },
          "include_user_data": {
            "description": "Include full user profile and credits\nString enum: \"true\" or \"false\"",
            "default": "false",
            "enum": [
              "false",
              "true"
            ],
            "type": "string"
          },
          "include_credits": {
            "description": "Include only credits (without full profile)\nString enum: \"true\" or \"false\"",
            "default": "false",
            "enum": [
              "false",
              "true"
            ],
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "access_token"
        ]
      },
      "DetailedCreditsResponse": {
        "description": "Detailed Credits Response\nComprehensive breakdown of user's credit allocation and usage",
        "type": "object",
        "properties": {
          "allocation": {
            "description": "Current credit allocation",
            "type": "object",
            "properties": {
              "monthlyTotal": {
                "description": "Monthly allocated credits from subscription",
                "type": "number"
              },
              "purchasedTotal": {
                "description": "One-time purchased credits",
                "type": "number"
              },
              "lifetimeUsed": {
                "description": "Total credits used over lifetime",
                "type": "number"
              }
            },
            "additionalProperties": false,
            "required": [
              "lifetimeUsed",
              "monthlyTotal",
              "purchasedTotal"
            ]
          },
          "totalAvailable": {
            "description": "Total available credits (monthly remaining + purchased)",
            "type": "number"
          },
          "lastUpdated": {
            "description": "Last credit balance update timestamp",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "allocation",
          "lastUpdated",
          "totalAvailable"
        ]
      },
      "UserProfileResponse": {
        "description": "User Profile Response\nComplete user profile with subscription and preferences",
        "type": "object",
        "properties": {
          "userId": {
            "description": "User ID",
            "type": "string"
          },
          "email": {
            "description": "Email address",
            "type": "string"
          },
          "displayName": {
            "description": "Display name",
            "type": "string"
          },
          "subscription": {
            "description": "Subscription information",
            "type": "object",
            "properties": {
              "tier": {
                "description": "Subscription tier (free, pro, enterprise)",
                "type": "string"
              },
              "status": {
                "description": "Subscription status (active, inactive, canceled, past_due)",
                "type": "string"
              },
              "currentPeriodStart": {
                "description": "Start of current billing period",
                "type": "string"
              },
              "currentPeriodEnd": {
                "description": "End of current billing period",
                "type": "string"
              },
              "cancelAtPeriodEnd": {
                "description": "Whether subscription will cancel at period end",
                "type": "boolean"
              }
            },
            "additionalProperties": false,
            "required": [
              "cancelAtPeriodEnd",
              "currentPeriodEnd",
              "currentPeriodStart",
              "status",
              "tier"
            ]
          },
          "preferences": {
            "description": "User preferences",
            "type": "object",
            "properties": {
              "defaultModel": {
                "description": "Default AI model preference",
                "type": "string"
              },
              "emailNotifications": {
                "description": "Email notification preference",
                "type": "boolean"
              },
              "usageAlerts": {
                "description": "Usage alert preference",
                "type": "boolean"
              }
            },
            "additionalProperties": false,
            "required": [
              "defaultModel",
              "emailNotifications",
              "usageAlerts"
            ]
          },
          "accountCreatedAt": {
            "description": "Account creation timestamp",
            "type": "string"
          },
          "lastLoginAt": {
            "description": "Last login timestamp",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "accountCreatedAt",
          "displayName",
          "email",
          "lastLoginAt",
          "preferences",
          "subscription",
          "userId"
        ]
      },
      "ChatCompletionResponse": {
        "description": "Chat Completion Response",
        "type": "object",
        "properties": {
          "id": {
            "description": "Unique completion ID",
            "type": "string"
          },
          "object": {
            "description": "Object type (chat.completion)",
            "type": "string",
            "enum": [
              "chat.completion"
            ]
          },
          "created": {
            "description": "Unix timestamp of creation",
            "type": "number"
          },
          "model": {
            "description": "Model used for completion",
            "type": "string"
          },
          "choices": {
            "description": "Array of completion choices",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChatCompletionChoice"
            }
          },
          "usage": {
            "$ref": "#/components/schemas/CompletionUsage",
            "description": "Token usage statistics and credits deducted"
          }
        },
        "additionalProperties": false,
        "required": [
          "choices",
          "created",
          "id",
          "model",
          "object",
          "usage"
        ]
      },
      "ChatCompletionChoice": {
        "description": "Chat Completion Choice",
        "type": "object",
        "properties": {
          "index": {
            "description": "Choice index",
            "type": "number"
          },
          "message": {
            "$ref": "#/components/schemas/ChatCompletionMessage",
            "description": "Generated message"
          },
          "finish_reason": {
            "description": "Reason completion finished (stop, length, function_call, content_filter, null)",
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "required": [
          "finish_reason",
          "index",
          "message"
        ]
      },
      "ChatCompletionMessage": {
        "description": "Chat Completion Message (response)",
        "type": "object",
        "properties": {
          "role": {
            "description": "Message role",
            "type": "string"
          },
          "content": {
            "description": "Message content",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "content",
          "role"
        ]
      },
      "CompletionUsage": {
        "description": "Completion Usage Statistics",
        "type": "object",
        "properties": {
          "promptTokens": {
            "description": "Prompt tokens consumed",
            "type": "number"
          },
          "completionTokens": {
            "description": "Completion tokens generated",
            "type": "number"
          },
          "totalTokens": {
            "description": "Total tokens (prompt + completion)",
            "type": "number"
          },
          "creditsUsed": {
            "description": "Credits deducted for this request",
            "type": "number"
          },
          "cachedTokens": {
            "description": "Cached tokens (for Anthropic/Google prompt caching)",
            "type": "number"
          }
        },
        "additionalProperties": false,
        "required": [
          "completionTokens",
          "creditsUsed",
          "promptTokens",
          "totalTokens"
        ]
      },
      "ChatCompletionRequest": {
        "description": "Chat Completion Request Body",
        "type": "object",
        "properties": {
          "model": {
            "description": "Model ID to use for completion",
            "type": "string"
          },
          "messages": {
            "description": "Array of messages in the conversation",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChatMessage"
            }
          },
          "max_tokens": {
            "description": "Maximum tokens to generate (max: 8192, default: 1000)",
            "type": "number"
          },
          "temperature": {
            "description": "Sampling temperature (0-2, default: 0.7)",
            "type": "number"
          },
          "top_p": {
            "description": "Nucleus sampling parameter (0-1)",
            "type": "number"
          },
          "stream": {
            "description": "Whether to stream the response",
            "type": "boolean"
          },
          "stop": {
            "description": "Stop sequences (string or array)",
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "string"
              }
            ]
          },
          "presence_penalty": {
            "description": "Presence penalty (-2 to 2)",
            "type": "number"
          },
          "frequency_penalty": {
            "description": "Frequency penalty (-2 to 2)",
            "type": "number"
          },
          "n": {
            "description": "Number of completions to generate (1-10, default: 1)",
            "type": "number"
          },
          "user": {
            "description": "User identifier for tracking",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "messages",
          "model"
        ]
      },
      "ChatMessage": {
        "description": "Chat Message",
        "type": "object",
        "properties": {
          "role": {
            "description": "Message role (system, user, assistant, function)",
            "enum": [
              "assistant",
              "function",
              "system",
              "user"
            ],
            "type": "string"
          },
          "content": {
            "description": "Message content",
            "type": "string"
          },
          "name": {
            "description": "Name (for function messages)",
            "type": "string"
          },
          "function_call": {
            "description": "Function call details (for assistant messages)",
            "type": "object",
            "properties": {
              "name": {
                "description": "Function name",
                "type": "string"
              },
              "arguments": {
                "description": "Function arguments (JSON string)",
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "arguments",
              "name"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "content",
          "role"
        ]
      },
      "TextCompletionResponse": {
        "description": "Text Completion Response",
        "type": "object",
        "properties": {
          "id": {
            "description": "Unique completion ID",
            "type": "string"
          },
          "object": {
            "description": "Object type (text_completion)",
            "type": "string",
            "enum": [
              "text_completion"
            ]
          },
          "created": {
            "description": "Unix timestamp of creation",
            "type": "number"
          },
          "model": {
            "description": "Model used for completion",
            "type": "string"
          },
          "choices": {
            "description": "Array of completion choices",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TextCompletionChoice"
            }
          },
          "usage": {
            "$ref": "#/components/schemas/CompletionUsage",
            "description": "Token usage statistics and credits deducted"
          }
        },
        "additionalProperties": false,
        "required": [
          "choices",
          "created",
          "id",
          "model",
          "object",
          "usage"
        ]
      },
      "TextCompletionChoice": {
        "description": "Text Completion Choice",
        "type": "object",
        "properties": {
          "index": {
            "description": "Choice index",
            "type": "number"
          },
          "text": {
            "description": "Generated text",
            "type": "string"
          },
          "finish_reason": {
            "description": "Reason completion finished (stop, length, content_filter, null)",
            "type": "string",
            "nullable": true
          },
          "logprobs": {
            "description": "Log probabilities (if requested)",
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "token_logprobs": {
                    "description": "Token log probabilities",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "top_logprobs": {
                    "description": "Top log probabilities per position",
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Record_string_number_"
                    }
                  },
                  "text_offset": {
                    "description": "Text offsets",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  }
                },
                "additionalProperties": false,
                "required": [
                  "text_offset",
                  "token_logprobs",
                  "top_logprobs"
                ]
              }
            ],
            "nullable": true
          }
        },
        "additionalProperties": false,
        "required": [
          "finish_reason",
          "index",
          "text"
        ]
      },
      "Record_string_number_": {
        "type": "object",
        "additionalProperties": false
      },
      "TextCompletionRequest": {
        "description": "Text Completion Request Body",
        "type": "object",
        "properties": {
          "model": {
            "description": "Model ID to use for completion",
            "type": "string"
          },
          "prompt": {
            "description": "Input prompt text",
            "type": "string"
          },
          "max_tokens": {
            "description": "Maximum tokens to generate (max: 8192, default: 1000)",
            "type": "number"
          },
          "temperature": {
            "description": "Sampling temperature (0-2, default: 0.7)",
            "type": "number"
          },
          "top_p": {
            "description": "Nucleus sampling parameter (0-1)",
            "type": "number"
          },
          "stream": {
            "description": "Whether to stream the response",
            "type": "boolean"
          },
          "stop": {
            "description": "Stop sequences (string or array)",
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "string"
              }
            ]
          },
          "presence_penalty": {
            "description": "Presence penalty (-2 to 2)",
            "type": "number"
          },
          "frequency_penalty": {
            "description": "Frequency penalty (-2 to 2)",
            "type": "number"
          },
          "n": {
            "description": "Number of completions to generate (1-10, default: 1)",
            "type": "number"
          },
          "user": {
            "description": "User identifier for tracking",
            "type": "string"
          },
          "echo": {
            "description": "Echo the prompt in the response",
            "type": "boolean"
          },
          "best_of": {
            "description": "Generate best_of completions and return the best",
            "type": "number"
          },
          "logprobs": {
            "description": "Log probabilities for top N tokens",
            "type": "number"
          }
        },
        "additionalProperties": false,
        "required": [
          "model",
          "prompt"
        ]
      },
      "V1CurrentCreditsResponse": {
        "description": "Current Credits Response",
        "type": "object",
        "properties": {
          "id": {
            "description": "Credit record ID",
            "type": "string"
          },
          "userId": {
            "description": "User ID",
            "type": "string"
          },
          "totalCredits": {
            "description": "Total credits allocated for current billing period",
            "type": "number"
          },
          "usedCredits": {
            "description": "Credits used in current billing period",
            "type": "number"
          },
          "remainingCredits": {
            "description": "Remaining credits (total - used)",
            "type": "number"
          },
          "billingPeriodStart": {
            "description": "Billing period start timestamp (ISO 8601)",
            "type": "string"
          },
          "billingPeriodEnd": {
            "description": "Billing period end timestamp (ISO 8601)",
            "type": "string"
          },
          "usagePercentage": {
            "description": "Usage percentage (used/total * 100)",
            "type": "number"
          }
        },
        "additionalProperties": false,
        "required": [
          "billingPeriodEnd",
          "billingPeriodStart",
          "id",
          "remainingCredits",
          "totalCredits",
          "usagePercentage",
          "usedCredits",
          "userId"
        ]
      },
      "V1UsageHistoryResponse": {
        "description": "Usage History Response",
        "type": "object",
        "properties": {
          "usage": {
            "description": "Array of usage records",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/V1UsageHistoryItem"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/V1UsageHistoryPagination",
            "description": "Pagination metadata"
          },
          "summary": {
            "$ref": "#/components/schemas/V1UsageHistorySummary",
            "description": "Summary statistics"
          }
        },
        "additionalProperties": false,
        "required": [
          "pagination",
          "summary",
          "usage"
        ]
      },
      "V1UsageHistoryItem": {
        "description": "Usage History Item",
        "type": "object",
        "properties": {
          "id": {
            "description": "Usage record ID",
            "type": "string"
          },
          "modelId": {
            "description": "Model ID used",
            "type": "string"
          },
          "operation": {
            "description": "Operation type (completion, chat, embedding, function_call)",
            "type": "string"
          },
          "creditsUsed": {
            "description": "Credits deducted",
            "type": "number"
          },
          "inputTokens": {
            "description": "Input tokens consumed",
            "type": "number",
            "nullable": true
          },
          "outputTokens": {
            "description": "Output tokens generated",
            "type": "number",
            "nullable": true
          },
          "totalTokens": {
            "description": "Total tokens (input + output)",
            "type": "number",
            "nullable": true
          },
          "requestDurationMs": {
            "description": "Request duration in milliseconds",
            "type": "number",
            "nullable": true
          },
          "createdAt": {
            "description": "Timestamp of request (ISO 8601)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "createdAt",
          "creditsUsed",
          "id",
          "inputTokens",
          "modelId",
          "operation",
          "outputTokens",
          "requestDurationMs",
          "totalTokens"
        ]
      },
      "V1UsageHistoryPagination": {
        "description": "Usage History Pagination",
        "type": "object",
        "properties": {
          "limit": {
            "description": "Limit per page",
            "type": "number"
          },
          "offset": {
            "description": "Current offset",
            "type": "number"
          },
          "total": {
            "description": "Total records",
            "type": "number"
          },
          "hasMore": {
            "description": "Whether more records exist",
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "required": [
          "hasMore",
          "limit",
          "offset",
          "total"
        ]
      },
      "V1UsageHistorySummary": {
        "description": "Usage History Summary",
        "type": "object",
        "properties": {
          "totalCreditsUsed": {
            "description": "Total credits used in filtered period",
            "type": "number"
          },
          "totalRequests": {
            "description": "Total API requests in filtered period",
            "type": "number"
          },
          "totalTokens": {
            "description": "Total tokens consumed in filtered period",
            "type": "number"
          }
        },
        "additionalProperties": false,
        "required": [
          "totalCreditsUsed",
          "totalRequests",
          "totalTokens"
        ]
      },
      "ModelListResponse": {
        "description": "Model List Response",
        "type": "object",
        "properties": {
          "models": {
            "description": "List of models",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModelListItem"
            }
          },
          "total": {
            "description": "Total number of models",
            "type": "number"
          },
          "user_tier": {
            "description": "Current user's tier (if authenticated)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "models",
          "total"
        ]
      },
      "ModelListItem": {
        "description": "Model List Item\nIndividual model in the list response",
        "type": "object",
        "properties": {
          "id": {
            "description": "Model ID",
            "type": "string"
          },
          "name": {
            "description": "Model name",
            "type": "string"
          },
          "provider": {
            "description": "Provider (openai, anthropic, google)",
            "type": "string"
          },
          "description": {
            "description": "Model description",
            "type": "string",
            "nullable": true
          },
          "capabilities": {
            "description": "Model capabilities (text, vision, function_calling, code, long_context)",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "context_length": {
            "description": "Context window length",
            "type": "number"
          },
          "max_output_tokens": {
            "description": "Maximum output tokens",
            "type": "number",
            "nullable": true
          },
          "credits_per_1k_tokens": {
            "description": "Credits per 1k tokens",
            "type": "number"
          },
          "is_available": {
            "description": "Whether model is available",
            "type": "boolean"
          },
          "is_legacy": {
            "description": "Whether model is legacy",
            "type": "boolean"
          },
          "is_archived": {
            "description": "Whether model is archived",
            "type": "boolean"
          },
          "version": {
            "description": "Model version",
            "type": "string",
            "nullable": true
          },
          "required_tier": {
            "description": "Required tier to access (free, pro, pro_max, enterprise_pro, enterprise_max, perpetual)",
            "type": "string"
          },
          "tier_restriction_mode": {
            "description": "Tier restriction mode (minimum, exact, whitelist)",
            "type": "string"
          },
          "allowed_tiers": {
            "description": "Allowed tiers for access",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "access_status": {
            "description": "Access status for current user (allowed, restricted, upgrade_required)",
            "type": "string"
          },
          "legacy_info": {
            "description": "Legacy deprecation information",
            "$ref": "#/components/schemas/LegacyInfo"
          }
        },
        "additionalProperties": false,
        "required": [
          "access_status",
          "allowed_tiers",
          "capabilities",
          "context_length",
          "credits_per_1k_tokens",
          "description",
          "id",
          "is_available",
          "max_output_tokens",
          "name",
          "provider",
          "required_tier",
          "tier_restriction_mode",
          "version"
        ]
      },
      "LegacyInfo": {
        "description": "Legacy model information",
        "type": "object",
        "properties": {
          "isLegacy": {
            "description": "Whether model is legacy/deprecated",
            "type": "boolean"
          },
          "replacementModelId": {
            "description": "Recommended replacement model ID",
            "type": "string"
          },
          "deprecationNotice": {
            "description": "Deprecation notice message",
            "type": "string"
          },
          "sunsetDate": {
            "description": "Sunset date (ISO 8601)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "isLegacy"
        ]
      },
      "SubscriptionPlansResponse": {
        "description": "Subscription Plans List Response",
        "type": "object",
        "properties": {
          "plans": {
            "description": "Array of available subscription plans",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SubscriptionPlanItem"
            }
          }
        },
        "additionalProperties": false,
        "required": [
          "plans"
        ]
      },
      "SubscriptionPlanItem": {
        "description": "Subscription Plan Item\nIndividual plan in the list response",
        "type": "object",
        "properties": {
          "id": {
            "description": "Plan ID",
            "type": "string"
          },
          "name": {
            "description": "Plan name",
            "type": "string"
          },
          "tier": {
            "description": "Subscription tier (free, pro, enterprise)",
            "type": "string"
          },
          "price": {
            "description": "Price in currency units (e.g., 9.99 for $9.99)",
            "type": "number"
          },
          "currency": {
            "description": "Currency code (USD, EUR, etc.)",
            "type": "string"
          },
          "interval": {
            "description": "Billing interval (month, year)",
            "type": "string"
          },
          "features": {
            "description": "List of features included in plan",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "additionalProperties": false,
        "required": [
          "currency",
          "features",
          "id",
          "interval",
          "name",
          "price",
          "tier"
        ]
      },
      "SubscriptionInfoResponse": {
        "description": "Subscription Info Response\nComplete subscription information",
        "type": "object",
        "properties": {
          "tier": {
            "description": "Subscription tier (free, pro, enterprise)",
            "type": "string"
          },
          "status": {
            "description": "Subscription status (active, cancelled, expired, trialing)",
            "type": "string"
          },
          "currentPeriodStart": {
            "description": "Current billing period start (ISO 8601, nullable)",
            "type": "string",
            "nullable": true
          },
          "currentPeriodEnd": {
            "description": "Current billing period end (ISO 8601, nullable)",
            "type": "string",
            "nullable": true
          },
          "cancelAtPeriodEnd": {
            "description": "Whether subscription cancels at period end",
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "required": [
          "cancelAtPeriodEnd",
          "currentPeriodEnd",
          "currentPeriodStart",
          "status",
          "tier"
        ]
      },
      "CreateSubscriptionRequest": {
        "description": "Create Subscription Request Body",
        "type": "object",
        "properties": {
          "planId": {
            "description": "Plan ID to subscribe to",
            "type": "string"
          },
          "paymentMethodId": {
            "description": "Payment method ID from Stripe (optional for free tier)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "planId"
        ]
      },
      "V1SubscriptionResponse": {
        "description": "Subscription Response\nCurrent user's subscription details",
        "type": "object",
        "properties": {
          "id": {
            "description": "Subscription ID",
            "type": "string"
          },
          "user_id": {
            "description": "User ID",
            "type": "string"
          },
          "tier": {
            "description": "Subscription tier (free, pro, pro_max, enterprise_pro, enterprise_max, perpetual)",
            "type": "string"
          },
          "status": {
            "description": "Subscription status (active, inactive, canceled, past_due, trialing)",
            "type": "string"
          },
          "credits_per_month": {
            "description": "Credits per month allocation",
            "type": "number"
          },
          "credits_rollover": {
            "description": "Whether credits rollover to next month",
            "type": "boolean"
          },
          "billing_interval": {
            "description": "Billing interval (monthly, yearly, lifetime)",
            "type": "string"
          },
          "price_cents": {
            "description": "Price in cents",
            "type": "number"
          },
          "current_period_start": {
            "description": "Current billing period start (ISO 8601)",
            "type": "string"
          },
          "current_period_end": {
            "description": "Current billing period end (ISO 8601)",
            "type": "string"
          },
          "trial_end": {
            "description": "Trial end date (ISO 8601, nullable)",
            "type": "string",
            "nullable": true
          },
          "created_at": {
            "description": "Subscription creation timestamp (ISO 8601)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "billing_interval",
          "created_at",
          "credits_per_month",
          "credits_rollover",
          "current_period_end",
          "current_period_start",
          "id",
          "price_cents",
          "status",
          "tier",
          "trial_end",
          "user_id"
        ]
      },
      "UsageStatsResponse": {
        "description": "Usage Statistics Response\nAggregated usage statistics for specified period",
        "type": "object",
        "properties": {
          "period": {
            "description": "Aggregation period used",
            "type": "string"
          },
          "totalCreditsUsed": {
            "description": "Total credits used in period",
            "type": "number"
          },
          "totalRequests": {
            "description": "Total number of requests in period",
            "type": "number"
          },
          "byModel": {
            "$ref": "#/components/schemas/UsageByModel",
            "description": "Usage statistics grouped by model"
          },
          "byDate": {
            "description": "Usage statistics over time (array of date points)",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UsageByDateItem"
            }
          }
        },
        "additionalProperties": false,
        "required": [
          "byDate",
          "byModel",
          "period",
          "totalCreditsUsed",
          "totalRequests"
        ]
      },
      "UsageByModel": {
        "description": "Usage by Model Statistics\nAggregated usage per model",
        "type": "object",
        "additionalProperties": {
          "type": "object",
          "properties": {
            "requests": {
              "description": "Total requests for this model",
              "type": "number"
            },
            "creditsUsed": {
              "description": "Total credits used for this model",
              "type": "number"
            }
          },
          "additionalProperties": false,
          "required": [
            "creditsUsed",
            "requests"
          ]
        }
      },
      "UsageByDateItem": {
        "description": "Usage by Date Item\nDaily/weekly/monthly usage data point",
        "type": "object",
        "properties": {
          "date": {
            "description": "Date (ISO 8601 format)",
            "type": "string"
          },
          "creditsUsed": {
            "description": "Credits used on this date",
            "type": "number"
          },
          "requests": {
            "description": "Number of requests on this date",
            "type": "number"
          }
        },
        "additionalProperties": false,
        "required": [
          "creditsUsed",
          "date",
          "requests"
        ]
      },
      "RateLimitStatusResponse": {
        "description": "Rate Limit Status Response\nCurrent rate limit status for authenticated user",
        "type": "object",
        "properties": {
          "limit": {
            "description": "Rate limit (requests per minute)",
            "type": "number"
          },
          "remaining": {
            "description": "Remaining requests in current window",
            "type": "number"
          },
          "reset": {
            "description": "Reset time (ISO 8601 timestamp)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "limit",
          "remaining",
          "reset"
        ]
      },
      "TestWebhookResponse": {
        "description": "Test Webhook Response\nResult of webhook test request",
        "type": "object",
        "properties": {
          "success": {
            "description": "Whether test webhook was sent successfully",
            "type": "boolean"
          },
          "message": {
            "description": "Descriptive message about test result",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "message",
          "success"
        ]
      },
      "UserPreferencesResponse": {
        "description": "User Preferences Response\nUser's preference settings and configuration",
        "type": "object",
        "properties": {
          "defaultModel": {
            "description": "User's preferred default model (nullable)",
            "type": "string",
            "nullable": true
          },
          "emailNotifications": {
            "description": "Email notification preference",
            "type": "boolean"
          },
          "usageAlerts": {
            "description": "Usage alert preference",
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "required": [
          "defaultModel",
          "emailNotifications",
          "usageAlerts"
        ]
      },
      "UpdateUserPreferencesRequest": {
        "description": "Update User Preferences Request Body\nPartial update of user preferences",
        "type": "object",
        "properties": {
          "defaultModel": {
            "description": "User's preferred default model (optional)",
            "type": "string",
            "nullable": true
          },
          "emailNotifications": {
            "description": "Email notification preference (optional)",
            "type": "boolean"
          },
          "usageAlerts": {
            "description": "Usage alert preference (optional)",
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "DefaultModelResponse": {
        "description": "Default Model Response\nUser's default model preference",
        "type": "object",
        "properties": {
          "defaultModel": {
            "description": "Default model ID (nullable)",
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "required": [
          "defaultModel"
        ]
      },
      "SetDefaultModelRequest": {
        "description": "Set Default Model Request Body",
        "type": "object",
        "properties": {
          "modelId": {
            "description": "Model ID to set as default",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "modelId"
        ]
      },
      "V1UserProfileResponse": {
        "description": "User Profile Response\nComplete user profile information",
        "type": "object",
        "properties": {
          "userId": {
            "description": "User ID",
            "type": "string"
          },
          "email": {
            "description": "Email address",
            "type": "string"
          },
          "firstName": {
            "description": "First name",
            "type": "string",
            "nullable": true
          },
          "lastName": {
            "description": "Last name",
            "type": "string",
            "nullable": true
          },
          "username": {
            "description": "Username",
            "type": "string",
            "nullable": true
          },
          "profilePictureUrl": {
            "description": "Profile picture URL",
            "type": "string",
            "nullable": true
          },
          "role": {
            "description": "User role (user, admin)",
            "type": "string"
          },
          "createdAt": {
            "description": "Account creation timestamp",
            "type": "string"
          },
          "lastLoginAt": {
            "description": "Last login timestamp",
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "required": [
          "createdAt",
          "email",
          "firstName",
          "lastLoginAt",
          "lastName",
          "profilePictureUrl",
          "role",
          "userId",
          "username"
        ]
      },
      "UpdateUserProfileRequest": {
        "description": "Update User Profile Request Body",
        "type": "object",
        "properties": {
          "firstName": {
            "description": "First name (optional)",
            "type": "string"
          },
          "lastName": {
            "description": "Last name (optional)",
            "type": "string"
          },
          "username": {
            "description": "Username (optional)",
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "V1WebhookConfigResponse": {
        "description": "Webhook Configuration Response",
        "type": "object",
        "properties": {
          "id": {
            "description": "Webhook configuration ID",
            "type": "string"
          },
          "user_id": {
            "description": "User ID",
            "type": "string"
          },
          "webhook_url": {
            "description": "Webhook URL endpoint",
            "type": "string"
          },
          "is_active": {
            "description": "Whether webhook is active",
            "type": "boolean"
          },
          "created_at": {
            "description": "Configuration creation timestamp (ISO 8601)",
            "type": "string"
          },
          "updated_at": {
            "description": "Configuration last update timestamp (ISO 8601)",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "created_at",
          "id",
          "is_active",
          "updated_at",
          "user_id",
          "webhook_url"
        ]
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT access token obtained through OAuth 2.0 authorization flow"
      }
    }
  },
  "servers": [
    {
      "url": "https://api.textassistant.com",
      "description": "Production API"
    },
    {
      "url": "https://staging-api.textassistant.com",
      "description": "Staging API"
    },
    {
      "url": "http://localhost:7150",
      "description": "Local Development"
    }
  ]
}