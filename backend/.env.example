# ===== Server Configuration =====
PORT=3001
HOST=0.0.0.0
NODE_ENV=development

# ===== Database Configuration =====
# Local PostgreSQL (update username/password)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/rephlo

# Docker PostgreSQL (if using Docker)
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/rephlo

# Cloud Database Examples:
# Neon: DATABASE_URL=postgresql://user:password@ep-xxx.neon.tech/rephlo?sslmode=require
# Supabase: DATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres
# AWS RDS: DATABASE_URL=postgresql://username:password@rephlo-db.xxx.rds.amazonaws.com:5432/rephlo

# Database pool configuration
DATABASE_POOL_SIZE=20

# ===== Redis Configuration =====
# Used for session storage, rate limiting, and caching
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
# Optional: Redis connection pool
REDIS_MAX_RETRIES=3
REDIS_CONNECT_TIMEOUT=10000

# ===== CORS Configuration =====
CORS_ORIGIN=http://localhost:5173

# ===== Logging Configuration =====
LOG_LEVEL=debug
LOG_DIR=logs

# ===== File Upload Configuration =====
MAX_FILE_SIZE=5242880
UPLOAD_DIR=./uploads

# ===== Application Configuration =====
APP_NAME=Rephlo Backend API

# ===== OIDC Provider Configuration =====
# Generate keys using: ts-node scripts/generate-jwks.ts
OIDC_ISSUER=http://localhost:3001
OIDC_COOKIE_KEYS=["change-this-secret-key-1","change-this-secret-key-2"]
# OIDC_JWKS_PRIVATE_KEY should be the JSON output from generate-jwks.ts
# Example format (replace with your actual generated key):
# OIDC_JWKS_PRIVATE_KEY='{"kty":"RSA","n":"...","e":"AQAB","d":"...","p":"...","q":"...","dp":"...","dq":"...","qi":"...","alg":"RS256","kid":"xxxxx","use":"sig"}'
OIDC_JWKS_PRIVATE_KEY=

# ===== Stripe Configuration =====
# Stripe API keys for subscription management
# Test keys: Start with "sk_test_" and "whsec_"
# Live keys: Start with "sk_live_" and "whsec_"
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_YOUR_TEST_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET

# Testing Stripe webhooks locally:
# 1. Install Stripe CLI: https://stripe.com/docs/stripe-cli
# 2. Run: stripe login
# 3. Forward webhooks: stripe listen --forward-to localhost:3001/webhooks/stripe
# 4. Copy the webhook signing secret from CLI output to STRIPE_WEBHOOK_SECRET

# ===== LLM Provider API Keys =====
# Set these to enable LLM inference endpoints (/v1/completions, /v1/chat/completions)
# At least one provider must be configured for inference to work

# OpenAI API Key for GPT-5
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Anthropic API Key for Claude 3.5 Sonnet
# Get your key from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=

# Google AI API Key for Gemini 2.0 Pro
# Get your key from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=

# ===== Rate Limiting Configuration (Future) =====
# RATE_LIMIT_FREE_RPM=10
# RATE_LIMIT_PRO_RPM=60
# RATE_LIMIT_ENTERPRISE_RPM=300

# ===== Security Configuration (Future) =====
# JWT_SECRET=<strong-secret>
# WEBHOOK_SECRET=<webhook-signing-secret>
# ENCRYPTION_KEY=<aes-256-key>

# ===== Monitoring Configuration (Future) =====
# SENTRY_DSN=
