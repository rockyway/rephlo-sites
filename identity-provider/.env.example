# Node Environment
NODE_ENV=development
PORT=7151

# Shared PostgreSQL database with main API
DATABASE_URL=postgresql://postgres:changeme@localhost:5432/rephlo-dev

# OIDC Configuration
OIDC_ISSUER=http://localhost:7151
OIDC_COOKIE_KEYS=["secret-1","secret-2"]
# Generate OIDC_JWKS_PRIVATE_KEY with: ts-node scripts/generate-jwks.ts
OIDC_JWKS_PRIVATE_KEY='{"kty":"RSA",...}'

# CORS - Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:8080,http://localhost:7150,http://localhost:7152

# MFA Enforcement
# Set to 'false' to disable MFA enforcement during OAuth login
# Useful for development/testing when MFA verification UI is not yet implemented
# Default: true (MFA is enforced if user has mfaEnabled=true in database)
MFA_ENFORCEMENT_ENABLED=false

# Token TTLs (Time To Live) - in seconds
# Configure token lifetimes for different OAuth/OIDC token types
# Defaults shown below:
OIDC_TTL_ACCESS_TOKEN=3600          # 1 hour - Short-lived access tokens
OIDC_TTL_AUTHORIZATION_CODE=600     # 10 minutes - Authorization code exchange window
OIDC_TTL_ID_TOKEN=3600              # 1 hour - ID token lifetime
OIDC_TTL_REFRESH_TOKEN=5184000      # 60 days - Long-lived refresh tokens for desktop apps
OIDC_TTL_GRANT=5184000              # 60 days - Must match or exceed refresh token TTL
OIDC_TTL_INTERACTION=3600           # 1 hour - Login/consent interaction window
OIDC_TTL_SESSION=86400              # 24 hours - Browser session lifetime

# Logging
LOG_LEVEL=debug
LOG_DIR=logs
