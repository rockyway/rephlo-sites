# Test Data Documentation

**Version**: 2.0
**Last Updated**: November 2025
**Audience**: Developers, QA Engineers, Testers, Desktop App Developers

This document provides comprehensive information about the test data generated by the Prisma seed script for the Rephlo backend API and Desktop App testing.

---

## Table of Contents

1. [Overview](#overview)
2. [Seeding the Database](#seeding-the-database)
3. [Test User Accounts](#test-user-accounts)
4. [Usage History Data](#usage-history-data)
5. [Webhook Configurations](#webhook-configurations)
6. [Webhook Logs](#webhook-logs)
7. [Desktop App Testing](#desktop-app-testing)
8. [Testing Scenarios](#testing-scenarios)
9. [Data Reset Procedures](#data-reset-procedures)
10. [Adding Custom Test Data](#adding-custom-test-data)

---

## Overview

The seed script (`backend/prisma/seed.ts`) populates the database with comprehensive test data including:

### Core Data
- **10 Test Users** with various states and authentication methods
- **3 LLM Models** (GPT-5, Claude 3.5 Sonnet, Gemini 2.0 Pro)
- **1 OAuth Client** (Text Assistant Desktop)
- **2 Subscriptions** (Free and Pro tier)
- **3 Credit Records** with different usage patterns
- **2 User Preferences** configurations

### API Testing Data (New in v2.0)
- **6 Usage History Records** (3 developer, 3 pro) - For testing usage tracking APIs
- **2 Webhook Configurations** (developer, pro) - For testing webhook management
- **5 Webhook Logs** (2 success, 3 mixed) - For testing webhook delivery tracking

This test data covers all major authentication, API usage, and Desktop App integration scenarios for comprehensive testing.

---

## Seeding the Database

### Prerequisites

1. PostgreSQL database running and accessible
2. Database connection configured in `backend/.env`
3. Prisma migrations applied: `npx prisma migrate dev`

### Run Seed Script

```bash
# From backend directory
cd backend

# Run seed script
npm run db:seed

# Alternative command
npx prisma db seed
```

### Expected Output

The seed script outputs a detailed summary:

```
Starting database seeding...

[1/5] Seeding OAuth Clients...
  ‚úì Created/Updated OAuth client: textassistant-desktop

[2/5] Seeding LLM Models...
  ‚úì Created/Updated model: GPT-5 (gpt-5)
  ‚úì Created/Updated model: Gemini 2.0 Pro (gemini-2.0-pro)
  ‚úì Created/Updated model: Claude 3.5 Sonnet (claude-3.5-sonnet)

[3/10] Seeding Test Users...
  üìã Admin User:
    ‚úì Admin: admin@rephlo.com / Admin@123
  üë• Regular Users:
    ‚úì Developer: developer@example.com / User@123
    ‚úì Tester: tester@example.com / User@123 (Email NOT verified)
    ...

[4/5] Seeding Subscriptions...
  ‚úì Created/Updated subscription: Free tier for free@example.com
  ‚úì Created/Updated subscription: Pro tier for pro@example.com

[5/8] Seeding Credits...
  ‚úì Created free credits for free@example.com: 1500 remaining
  ‚úì Created free credits for pro@example.com: 2000 remaining
  ‚úì Created pro credits for pro@example.com: 5000 remaining

[6/8] Seeding Usage History...
  ‚úì Created 3 usage records for developer@example.com
  ‚úì Created 3 usage records for pro@example.com

[7/8] Seeding Webhook Configurations...
  ‚úì Created webhook config for developer@example.com
  ‚úì Created webhook config for pro@example.com

[8/8] Seeding Webhook Logs...
  ‚úì Created 2 webhook logs for developer@example.com
  ‚úì Created 3 webhook logs for pro@example.com

[9/9] Seeding User Preferences...
  ‚úì Created preferences for free@example.com
  ‚úì Created preferences for pro@example.com

‚úÖ Database seeding completed successfully!

=============================================================================
SEEDED DATA SUMMARY
=============================================================================
  üì¶ OAuth Clients: 1
  ü§ñ LLM Models: 3
  üë§ Test Users: 10 (1 admin + 5 regular + 2 OAuth + 2 legacy)
  üí≥ Subscriptions: 2 (1 free tier, 1 pro tier)
  üí∞ Credit Records: 3 (1 free, 2 pro)
  üìä Usage History: 6 records (3 developer, 3 pro)
  üîî Webhook Configs: 2 (developer, pro)
  üìù Webhook Logs: 5 (2 developer success, 3 pro mixed)
  ‚öôÔ∏è  User Preferences: 2
```

---

## Test User Accounts

### 1. Admin Account

**Purpose**: Administrative access and testing admin-only features

| Field | Value |
|-------|-------|
| Email | `admin@rephlo.com` |
| Password | `Admin@123` |
| Username | `admin` |
| Email Verified | ‚úÖ Yes |
| Active | ‚úÖ Yes |
| Auth Provider | Local |

**Use Cases**:
- Admin panel access
- User management testing
- System configuration
- Full API access

---

### 2. Regular Users (5 Personas)

#### 2.1 Developer User

**Purpose**: Active developer with verified email and API usage

| Field | Value |
|-------|-------|
| Email | `developer@example.com` |
| Password | `User@123` |
| Username | `dev_user` |
| Email Verified | ‚úÖ Yes |
| Active | ‚úÖ Yes |
| Auth Provider | Local |

**Use Cases**:
- Normal login flow testing
- API key generation
- Usage tracking
- Credit consumption

---

#### 2.2 Tester User

**Purpose**: Testing email verification flow

| Field | Value |
|-------|-------|
| Email | `tester@example.com` |
| Password | `User@123` |
| Username | `test_user` |
| Email Verified | ‚ùå **No** |
| Active | ‚úÖ Yes |
| Verification Token | `test_verification_token_12345` |
| Token Expiry | 2025-11-10 |
| Auth Provider | Local |

**Use Cases**:
- Email verification testing
- Resend verification email
- Expired verification token testing
- Unverified user restrictions

---

#### 2.3 Designer User

**Purpose**: Recently registered active user

| Field | Value |
|-------|-------|
| Email | `designer@example.com` |
| Password | `User@123` |
| Username | `designer_pro` |
| Email Verified | ‚úÖ Yes |
| Active | ‚úÖ Yes |
| Auth Provider | Local |

**Use Cases**:
- New user onboarding
- Default preferences testing
- Fresh account behavior

---

#### 2.4 Manager User

**Purpose**: Testing deactivated account flow

| Field | Value |
|-------|-------|
| Email | `manager@example.com` |
| Password | `User@123` |
| Username | `manager_user` |
| Email Verified | ‚úÖ Yes |
| Active | ‚ùå **No** (Deactivated) |
| Deactivated At | 2025-11-03 16:00:00 |
| Auth Provider | Local |

**Use Cases**:
- Deactivated account login attempt
- Account reactivation flow
- Deactivation workflow testing
- Soft delete scenarios

---

#### 2.5 Support User

**Purpose**: Testing password reset flow

| Field | Value |
|-------|-------|
| Email | `support@example.com` |
| Password | `User@123` |
| Username | `support_agent` |
| Email Verified | ‚úÖ Yes |
| Active | ‚úÖ Yes |
| Reset Token | `reset_token_abc123xyz` |
| Token Expiry | 2025-11-07 12:00:00 |
| Auth Provider | Local |

**Use Cases**:
- Password reset flow testing
- Reset token validation
- Password change testing
- Forgot password workflow

---

### 3. OAuth Users (2 Personas)

#### 3.1 Google OAuth User

**Purpose**: Pure Google OAuth authentication

| Field | Value |
|-------|-------|
| Email | `googleuser@gmail.com` |
| Password | ‚ùå None (OAuth only) |
| Username | `google_user` |
| Email Verified | ‚úÖ Yes (Google verified) |
| Active | ‚úÖ Yes |
| Google ID | `mock_google_id_123456789` |
| Auth Provider | Google |

**Use Cases**:
- Google OAuth login flow
- OAuth user creation
- No password authentication
- Social login testing

---

#### 3.2 Mixed Auth User

**Purpose**: Account with both local and Google authentication

| Field | Value |
|-------|-------|
| Email | `mixed@example.com` |
| Password | `User@123` |
| Username | `mixed_auth_user` |
| Email Verified | ‚úÖ Yes |
| Active | ‚úÖ Yes |
| Google ID | `mock_google_id_987654321` |
| Auth Provider | Local (original) |

**Use Cases**:
- Account linking testing
- Multiple auth methods
- Google account linking to existing user
- Auth provider switching

---

### 4. Legacy Users (Backward Compatibility)

#### 4.1 Free Tier User

| Field | Value |
|-------|-------|
| Email | `free@example.com` |
| Password | ‚ùå None |
| Username | `freetier` |
| Email Verified | ‚úÖ Yes |
| Active | ‚úÖ Yes |
| Subscription | Free Tier |

**Use Cases**:
- Free tier limitations testing
- Credit system testing
- Subscription upgrade flow

---

#### 4.2 Pro Tier User

| Field | Value |
|-------|-------|
| Email | `pro@example.com` |
| Password | ‚ùå None |
| Username | `protier` |
| Email Verified | ‚úÖ Yes |
| Active | ‚úÖ Yes |
| Subscription | Pro Tier |

**Use Cases**:
- Pro tier features testing
- Higher rate limits
- Premium features access
- Subscription downgrade flow

---

## Usage History Data

The seed script creates 6 realistic usage history records for testing usage tracking and analytics endpoints.

### Developer User Usage (3 records)

| Timestamp | Model | Operation | Tokens (In/Out/Total) | Credits | Duration |
|-----------|-------|-----------|----------------------|---------|----------|
| 2025-11-06 10:00 | GPT-5 | chat | 1000/500/1500 | 50 | 2345ms |
| 2025-11-06 11:30 | Claude 3.5 | completion | 800/400/1200 | 30 | 1876ms |
| 2025-11-06 13:15 | Gemini 2.0 | chat | 500/300/800 | 20 | 1234ms |

**Total Credits Used**: 100 credits

**Request Metadata Includes**:
- Temperature settings (0.5 - 0.8)
- Max tokens configuration
- Endpoint used (/v1/completions or /v1/chat/completions)

### Pro User Usage (3 records)

| Timestamp | Model | Operation | Tokens (In/Out/Total) | Credits | Duration |
|-----------|-------|-----------|----------------------|---------|----------|
| 2025-11-05 08:00 | GPT-5 | chat | 2000/1000/3000 | 100 | 3456ms |
| 2025-11-05 14:30 | Claude 3.5 | chat | 1500/800/2300 | 75 | 2987ms |
| 2025-11-06 09:45 | Gemini 2.0 | completion | 1000/600/1600 | 40 | 1654ms |

**Total Credits Used**: 215 credits

### Testing Endpoints

Use these records to test:

```bash
# Get usage history with pagination
GET /v1/usage?limit=10&offset=0

# Get aggregated usage statistics
GET /v1/usage/stats?period=daily

# Filter by model
GET /v1/usage?model=gpt-5

# Filter by date range
GET /v1/usage?start=2025-11-05&end=2025-11-06
```

---

## Webhook Configurations

Two webhook configurations are created for testing webhook management endpoints.

### Developer Webhook Config

| Field | Value |
|-------|-------|
| User | `developer@example.com` |
| Webhook URL | `https://webhook.site/developer-test-endpoint` |
| Webhook Secret | `whsec_dev_test_secret_abc123` |
| Active | ‚úÖ Yes |
| Created At | Seed time |

**Use Cases**:
- Test webhook configuration retrieval
- Test webhook updates
- Public webhook testing with webhook.site
- HMAC signature verification testing

### Pro Webhook Config

| Field | Value |
|-------|-------|
| User | `pro@example.com` |
| Webhook URL | `https://api.example.com/webhooks/rephlo` |
| Webhook Secret | `whsec_pro_secure_token_xyz789` |
| Active | ‚úÖ Yes |
| Created At | Seed time |

**Use Cases**:
- Custom endpoint testing
- Production-like webhook setup
- Webhook secret rotation testing
- Multiple webhook config scenarios

### Testing Endpoints

```bash
# Get current webhook configuration
GET /v1/webhooks/config

# Create or update webhook
POST /v1/webhooks/config
{
  "webhookUrl": "https://example.com/webhook",
  "webhookSecret": "your_secret_here"
}

# Delete webhook configuration
DELETE /v1/webhooks/config

# Send test webhook
POST /v1/webhooks/test
```

---

## Webhook Logs

Five webhook delivery logs are created to test webhook tracking and retry logic.

### Developer Logs (2 records - All Successful)

#### Log 1: Usage Threshold Reached
- **Event Type**: `usage.threshold_reached`
- **Status**: ‚úÖ Success (HTTP 200)
- **Attempts**: 1
- **Response**: `{"received": true}`
- **Payload**:
  ```json
  {
    "userId": "...",
    "event": "usage.threshold_reached",
    "data": {
      "threshold": 0.8,
      "creditsUsed": 1600,
      "creditsTotal": 2000,
      "timestamp": "2025-11-06T10:00:00Z"
    }
  }
  ```

#### Log 2: Usage Recorded
- **Event Type**: `usage.recorded`
- **Status**: ‚úÖ Success (HTTP 200)
- **Attempts**: 1
- **Model**: GPT-5
- **Credits**: 50

### Pro Logs (3 records - Mixed Status)

#### Log 1: Subscription Updated
- **Event Type**: `subscription.updated`
- **Status**: ‚úÖ Success (HTTP 200)
- **Attempts**: 1
- **Timestamp**: 2025-11-05 08:00

#### Log 2: Usage Recorded (Failed)
- **Event Type**: `usage.recorded`
- **Status**: ‚ùå Failed (HTTP 500)
- **Attempts**: 3 (max retries reached)
- **Error**: "HTTP 500: Webhook endpoint returned server error"
- **Response**: `{"error": "Internal Server Error"}`

#### Log 3: Usage Threshold (Pending)
- **Event Type**: `usage.threshold_reached`
- **Status**: ‚è≥ Pending
- **Attempts**: 0 (not yet delivered)
- **Threshold**: 0.9 (90% of credits used)

### Testing Use Cases

- **Success Tracking**: View successful webhook deliveries
- **Failure Handling**: Test failed delivery scenarios
- **Retry Logic**: Examine retry attempts and backoff
- **Pending Status**: Test queued webhooks
- **Error Logs**: Access detailed error messages

---

## Desktop App Testing

The seed data is specifically designed to support comprehensive Desktop App testing with OAuth2/OIDC authentication.

### OAuth Client Configuration

| Field | Value |
|-------|-------|
| Client ID | `textassistant-desktop` |
| Client Type | Public (no secret) |
| Redirect URI | `http://localhost:8080/callback` |
| Grant Types | `authorization_code`, `refresh_token` |
| Response Types | `code` |
| Scopes | `openid email profile llm.inference models.read user.info credits.read` |

### Desktop App Authentication Flow

```mermaid
sequenceDiagram
    Desktop App->>Backend: GET /oauth/authorize
    Backend->>Desktop App: Redirect to /login
    Desktop App->>Backend: POST /oauth/authorize (credentials)
    Backend->>Desktop App: Redirect with code
    Desktop App->>Backend: POST /oauth/token (exchange code)
    Backend->>Desktop App: access_token + refresh_token
    Desktop App->>Backend: API requests with Bearer token
```

### Test Users for Desktop App

| User | Credentials | Has Usage Data | Has Webhooks | Best For |
|------|-------------|----------------|--------------|----------|
| developer@example.com | User@123 | ‚úÖ 3 records | ‚úÖ Configured | Full feature testing |
| pro@example.com | N/A (OAuth) | ‚úÖ 3 records | ‚úÖ Configured | Production scenarios |
| free@example.com | N/A | ‚ùå None | ‚ùå None | Basic tier testing |
| admin@rephlo.com | Admin@123 | ‚ùå None | ‚ùå None | Admin features |

### Available API Endpoints for Desktop App

```bash
# Authentication
POST /oauth/authorize
POST /oauth/token
POST /oauth/revoke
GET /oauth/userinfo

# User Management
GET /v1/users/me
PATCH /v1/users/me
GET /v1/users/me/preferences
PATCH /v1/users/me/preferences

# Models
GET /v1/models
GET /v1/models/:modelId

# LLM Inference
POST /v1/completions
POST /v1/chat/completions

# Credits & Usage
GET /v1/credits/me
GET /v1/usage              # ‚Üê Has test data!
GET /v1/usage/stats        # ‚Üê Has test data!

# Webhooks
GET /v1/webhooks/config    # ‚Üê Has test data!
POST /v1/webhooks/config   # ‚Üê Has test data!
DELETE /v1/webhooks/config
POST /v1/webhooks/test

# Subscriptions
GET /v1/subscriptions/me
POST /v1/subscriptions
PATCH /v1/subscriptions/me
POST /v1/subscriptions/me/cancel
```

### Testing Workflow Example

```bash
# 1. Obtain access token via OAuth
curl -X POST http://localhost:7150/oauth/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=authorization_code&code=AUTH_CODE&client_id=textassistant-desktop&redirect_uri=http://localhost:8080/callback"

# 2. Get user info
curl http://localhost:7150/v1/users/me \
  -H "Authorization: Bearer ACCESS_TOKEN"

# 3. View usage history (has test data)
curl http://localhost:7150/v1/usage \
  -H "Authorization: Bearer ACCESS_TOKEN"

# 4. Get usage statistics (has test data)
curl http://localhost:7150/v1/usage/stats \
  -H "Authorization: Bearer ACCESS_TOKEN"

# 5. Retrieve webhook config (has test data)
curl http://localhost:7150/v1/webhooks/config \
  -H "Authorization: Bearer ACCESS_TOKEN"

# 6. Make inference request
curl -X POST http://localhost:7150/v1/chat/completions \
  -H "Authorization: Bearer ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-5",
    "messages": [{"role": "user", "content": "Hello!"}]
  }'
```

---

## Testing Scenarios

### Scenario 1: Normal Login

**Test Account**: `developer@example.com` / `User@123`

**Expected Flow**:
1. User enters email and password
2. Backend validates credentials
3. Email is verified ‚úÖ
4. Account is active ‚úÖ
5. Session created successfully
6. User redirected to dashboard

**API Endpoint**: `POST /auth/login` (when implemented)

---

### Scenario 2: Unverified Email Login

**Test Account**: `tester@example.com` / `User@123`

**Expected Flow**:
1. User enters email and password
2. Backend validates credentials ‚úÖ
3. Email is NOT verified ‚ùå
4. Login rejected with error: "Please verify your email"
5. Option to resend verification email

**Verification Token**: `test_verification_token_12345`

**API Endpoints**:
- `POST /auth/verify-email`
- `POST /auth/resend-verification`

---

### Scenario 3: Deactivated Account

**Test Account**: `manager@example.com` / `User@123`

**Expected Flow**:
1. User enters email and password
2. Backend validates credentials ‚úÖ
3. Account is deactivated ‚ùå
4. Login rejected with error: "Your account has been deactivated"
5. Option to contact support

**API Endpoint**: `POST /auth/login`

---

### Scenario 4: Password Reset

**Test Account**: `support@example.com`

**Expected Flow**:
1. User clicks "Forgot Password"
2. Enters email: `support@example.com`
3. Backend checks if user exists ‚úÖ
4. Password reset email sent (or use existing token for testing)
5. User clicks reset link with token: `reset_token_abc123xyz`
6. User enters new password
7. Password updated successfully

**API Endpoints**:
- `POST /auth/forgot-password`
- `POST /auth/reset-password`

---

### Scenario 5: Google OAuth Login

**Test Account**: `googleuser@gmail.com` (OAuth only)

**Expected Flow**:
1. User clicks "Sign in with Google"
2. Redirected to Google consent screen
3. User authorizes application
4. Google redirects back with authorization code
5. Backend exchanges code for user info
6. User account found (or created)
7. Session created
8. User redirected to dashboard

**API Endpoints**:
- `GET /oauth/google/authorize`
- `GET /oauth/google/callback`

**Note**: Requires Google OAuth credentials configured in `.env`

---

### Scenario 6: Account Linking

**Test Account**: `mixed@example.com` / `User@123`

**Expected Flow**:
1. User logs in with email/password ‚úÖ
2. User goes to account settings
3. User clicks "Link Google Account"
4. OAuth flow completes
5. Google account linked to existing user
6. User can now login with either method

**Google ID**: `mock_google_id_987654321`

---

### Scenario 7: Admin Access

**Test Account**: `admin@rephlo.com` / `Admin@123`

**Expected Flow**:
1. Admin logs in
2. Access granted to admin panel
3. Can view all users
4. Can manage subscriptions
5. Can view system metrics
6. Full API access

---

## Data Reset Procedures

### Full Database Reset

**Warning**: This will delete ALL data and reseed from scratch.

```bash
cd backend

# Drop all tables and recreate
npx prisma migrate reset

# This command will:
# 1. Drop the database
# 2. Create a new database
# 3. Run all migrations
# 4. Run seed script automatically
```

### Reseed Without Dropping Database

If you want to update seed data without losing other data:

```bash
cd backend

# Run seed script (uses upsert, so safe to run multiple times)
npm run db:seed
```

**Note**: Seed script uses `upsert` operations, so it's safe to run multiple times. It will update existing records instead of creating duplicates.

### Reset Specific User

Use Prisma Studio or direct SQL:

```bash
# Open Prisma Studio
npx prisma studio

# Find user and delete
# Then run seed script to recreate
```

---

## Adding Custom Test Data

### Option 1: Modify Seed Script

Edit `backend/prisma/seed.ts`:

```typescript
// Add your custom user
const customUser = await prisma.user.upsert({
  where: { email: 'custom@example.com' },
  update: {},
  create: {
    email: 'custom@example.com',
    emailVerified: true,
    username: 'custom_user',
    passwordHash: await bcrypt.hash('CustomPass@123', 12),
    firstName: 'Custom',
    lastName: 'User',
    isActive: true,
    authProvider: 'local',
  },
});
```

### Option 2: Use Prisma Studio

```bash
cd backend
npx prisma studio

# Opens browser UI at http://localhost:5555
# Use GUI to add/edit records
```

### Option 3: Use API Endpoints

Once registration endpoints are implemented:

```bash
# Register new user via API
curl -X POST http://localhost:7150/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "newuser@example.com",
    "password": "NewPass@123",
    "firstName": "New",
    "lastName": "User"
  }'
```

---

## Password Hashing

All passwords are hashed using `bcrypt` with 12 salt rounds:

```typescript
import bcrypt from 'bcrypt';

const passwordHash = await bcrypt.hash('User@123', 12);
```

**Never store plain text passwords** - even in test environments.

---

## Environment Variables for Testing

Update `backend/.env` for local testing:

```env
# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/rephlo_test

# Google OAuth (optional, for OAuth testing)
GOOGLE_CLIENT_ID=your_test_client_id
GOOGLE_CLIENT_SECRET=your_test_client_secret
GOOGLE_REDIRECT_URI=http://localhost:7150/oauth/google/callback

# Frontend URL
FRONTEND_URL=http://localhost:5173
```

---

## Summary of Test Credentials

### Quick Reference Table

| Email | Password | Status | Auth Provider | Use Case |
|-------|----------|--------|---------------|----------|
| `admin@rephlo.com` | `Admin@123` | Active | Local | Admin testing |
| `developer@example.com` | `User@123` | Active | Local | Normal login |
| `tester@example.com` | `User@123` | Unverified | Local | Email verification |
| `designer@example.com` | `User@123` | Active | Local | New user |
| `manager@example.com` | `User@123` | Deactivated | Local | Deactivation flow |
| `support@example.com` | `User@123` | Active | Local | Password reset |
| `googleuser@gmail.com` | N/A | Active | Google | OAuth only |
| `mixed@example.com` | `User@123` | Active | Local + Google | Account linking |
| `free@example.com` | N/A | Active | Local | Free tier |
| `pro@example.com` | N/A | Active | Local | Pro tier |

---

## Next Steps

1. **Run Seed Script**: `cd backend && npm run db:seed`
2. **Start Backend**: `npm run dev`
3. **Start Frontend**: `cd ../frontend && npm run dev`
4. **Test Login Flows**: Use credentials from table above
5. **Configure OAuth**: Follow [Google OAuth Setup Guide](./010-google-oauth-setup.md)

---

## Related Documentation

- [Google OAuth Setup Guide](./010-google-oauth-setup.md)
- [Authentication Endpoints Implementation](../plan/103-auth-endpoints-implementation.md)
- [Prisma Schema Documentation](../../backend/prisma/schema.prisma)
- [Backend API README](../../backend/README.md)

---

**Last Updated**: November 2025
**Document Version**: 2.0 (Enhanced with Usage History, Webhooks, and Desktop App Testing)
